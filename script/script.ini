[script]
n0=;###################################################################################################################
n1=;########################################  SETTINGS  ###############################################################
n2=;###################################################################################################################
n3=
n4=alias settings {   
n5=  if $dialog(settings) = $null { dialog -m settings settings }
n6=  else halt
n7=}
n8=
n9=alias settitle { 
n10=  /dll libraries\edll.dll Titlebar -m $replace(%script.title,<SETKA>,$iif($network,$network,Нет соединения),<RABOTA>,$replace($uptime(system,2),mins,мин,min,мин,secs,сек,sec,сек,hrs,ч,hr,ч,wks,нед,wk,нед,days,дн,day,дн),<IDLE>,$replace($duration($idle),mins,мин,min,мин,secs,сек,sec,сек,hrs,ч,hr,ч,wks,нед,wk,нед,days,дн,day,дн),<AWAY>,$iif(%awaynow = yes,%awayreason,Нет),<PESNA>,$iif(($len(%song) > 3) && (%song != $null),%song,Плеер не включен) ,<NIK>,$iif($me,$me,Нету ника),<DATA>,$asctime(dd.mm.yyyy),<VREMA>,$asctime(HH:nn:ss),<SERVER>,$iif($server,$server,Нет соединения))
n11=  /dll libraries\edll.dll SetIcon -m mirc.ico
n12=}
n13=
n14=dialog settings {
n15=  title "Настройки"
n16=  size -1 -1 435 305
n17=  option pixels
n18=  icon icons\settings.ico, 0
n19=  tab "Главные", 1, 5 5 424 265
n20=  box "Блокировка скрипта паролем", 2, 13 34 408 67, tab 1
n21=  edit %script.password, 3, 18 72 390 20, tab 1 pass autohs
n22=  check "Включено", 4, 20 50 100 20, tab 1
n23=  box "Укажите ваш пол", 5, 13 110 408 50, tab 1
n24=  radio "Мужской", 6, 20 130 100 20, group tab 1
n25=  radio "Женский", 7, 135 130 100 20, tab 1
n26=  box "Сброс Idle времени", 8, 13 168 408 49, tab 1
n27=  check "Сбивать если больше", 9, 20 188 135 20, tab 1
n28=  edit %resetidle.interval, 10, 155 188 30 20, tab 1 center
n29=  text " секунд", 11, 190 190 60 16, tab 1
n30=  button "Настройка функциональных клавиш", 12, 214 228 205 26, tab 1
n31=  tab "Вид", 13
n32=  edit %script.title, 14, 19 49 320 20, tab 13 autohs
n33=  box "Заголовок окна NeOn Script", 15, 13 34 408 42, tab 13
n34=  button "Теги...", 16, 345 49 67 20, tab 13
n35=  box "Отображать WHOIS ответ", 17, 13 192 190 65, tab 13
n36=  check "В статусе", 18, 20 210 135 20, tab 13
n37=  check "В активном окне", 19, 20 230 135 20, tab 13
n38=  box "Общие", 20, 13 83 408 102, tab 13
n39=  check "Показывать информацию о скрипте при старте", 22, 20 98 390 20, tab 13
n40=  check "Включить всплывающие окна из системного трея", 23, 20 118 390 20, tab 13
n41=  check "Включить смайлы", 24, 20 138 390 20, tab 13
n42=  check "Проверять наличие обновлений скрипт при старте", 21, 20 158 390 20, tab13
n43=  tab "Звуки", 25
n44=  check "Звук при запуске", 26, 16 35 160 20, tab 25
n45=  check "Звук при подсоединении", 27, 16 55 160 20, tab 25
n46=  check "Звук при отсоединении", 28, 16 75 160 20, tab 25
n47=  check "Звук при неудачном соединении", 29, 16 95 205 20, tab 25
n48=  check "Звук при опе", 30, 16 115 160 20, tab 25
n49=  check "Звук при деопе", 31, 16 135 160 20, tab 25
n50=  check "Звук при войсе", 32, 16 155 160 20, tab 25
n51=  check "Звук при девойсе", 33, 16 175 160 20, tab 25
n52=  check "Звук при входе на канал", 34, 16 195 160 20, tab 25
n53=  check "Звук при выходе с канала", 35, 16 215 160 20, tab 25
n54=  check "Звук при уведомлении", 36, 16 235 160 20, tab 25
n55=  check "Звук при кике", 37, 230 35 165 20, tab 25
n56=  check "Звук при бане", 38, 230 55 165 20, tab 25
n57=  check "Звук при уходе в эвей", 39, 230 75 165 20, tab 25
n58=  check "Звук при возращении с эвей", 43, 230 95 165 20, tab 25
n59=  button "Громкость...", 40, 325 230 99 26, tab 25
n60=  button "Выключить все", 41, 325 189 99 26, tab 25
n61=  button "Включить все", 42, 219 189 99 26, tab 25
n62=  check "Звук при нике на канале", 57, 228 116 160 20, tab 25
n63=  check "Звук при нике в привате", 58, 228 138 191 20, tab 25
n64=  button "Настройка звуков", 89, 219 230 99 26, tab 25
n65=  tab "Текст", 71
n66=  box "Функции авто текста", 75, 13 34 251 137, tab 71
n67=  check "Здароваться при входе на канал", 81, 20 50 240 15, tab 71
n68=  check "Прощатся при выходе с канала", 82, 20 70 240 15, tab 71
n69=  check "Благодарить если дали войс", 83, 20 90 240 15, tab 71
n70=  check "Благодарить если дали оп", 84, 20 110 240 15, tab 71
n71=  check "Возразить если войс сняли", 85, 20 130 240 15, tab 71
n72=  check "Транслит", 86, 20 150 240 15, tab 71
n73=  box "Настройка стиля текста", 76, 13 175 409 83, tab 71
n74=  check "Включить в приватах", 79, 20 202 135 15, tab 71
n75=  check "Включить на каналах", 80, 20 222 140 15, tab 71
n76=  combo 87, 230 205 180 20, tab 71 drop
n77=  button "", 88, 229 230 182 20, tab 71
n78=  text "Выберите стиль:", 77, 230 190 105 15, tab 71
n79=  button "Редактировать сообщения", 78, 270 40 152 30, tab 71
n80=  icon 99, 327 105 32 32,  icons\autotext.ico, 0, tab 71
n81=  tab "Курсор", 44
n82=  box "Выбрать курсор", 45, 12 32 409 224, tab 44
n83=  icon 46, 21 57 32 32,  files\cursor\CUrsor1.cur, 0, tab 44
n84=  radio "Blue", 47, 59 62 86 20, tab 44
n85=  check "Вкл/выкл", 103, 337 222 70 20, tab 44
n86=  box "", 104, 330 214 81 31, tab 44
n87=  icon 52, 152 57 32 32,  files\cursor\CUrsor6.ani, 0, tab 44
n88=  icon 48, 22 95 32 32,  files\cursor\CUrsor2.cur, 0, tab 44
n89=  icon 49, 22 134 32 32,  files\cursor\CUrsor4.cur, 0, tab 44
n90=  icon 50, 23 174 32 32,  files\cursor\CUrsor3.cur, 0, tab 44
n91=  icon 51, 23 214 32 32,  files\cursor\CUrsor5.ani, 0, tab 44
n92=  icon 56, 152 214 32 32,  files\cursor\CUrsor10.ani, 0, tab 44
n93=  icon 55, 152 174 32 32,  files\cursor\CUrsor9.ani, 0, tab 44
n94=  icon 54, 152 134 32 32,  files\cursor\CUrsor8.ani, 0, tab 44
n95=  icon 53, 152 95 32 32,  files\cursor\CUrsor7.ani, 0, tab 44
n96=  icon 68, 273 57 32 32,  files\cursor\CUrsor11.ani, 0, tab 44
n97=  icon 69, 273 95 32 32,  files\cursor\CUrsor12.ani, 0, tab 44
n98=  icon 70, 273 134 32 32,  files\cursor\CUrsor13.cur, 0, tab 44
n99=  icon 72, 273 174 32 32,  files\cursor\CUrsor14.cur, 0, tab 44
n100=  radio "Linux", 59, 59 102 86 20, tab 44
n101=  radio "Lblue", 60, 59 140 86 20, tab 44
n102=  radio "Conus", 61, 59 181 86 20, tab 44
n103=  radio "Chameleon", 62, 59 221 86 20, tab 44
n104=  radio "Perl", 63, 190 62 74 20, tab 44
n105=  radio "Rotate", 64, 190 102 77 20, tab 44
n106=  radio "Mystical", 65, 190 140 71 20, tab 44
n107=  radio "Fire", 66, 190 181 66 20, tab 44
n108=  radio "Lightning", 67, 190 221 78 20, tab 44
n109=  radio "Red", 102, 312 181 86 20, tab 44
n110=  radio "Green", 101, 312 140 86 20, tab 44
n111=  radio "Fun", 74, 312 100 86 20, tab 44
n112=  radio "Matrix", 73, 312 63 86 20, tab 44
n113=  tab "Разное", 111
n114=  box "Иконка NeOn Script", 112, 13 35 185 76, tab 111
n115=  icon 113, 33 61 32 32,  mirc.ico, 0, tab 111
n116=  button "Поменять...", 114, 85 65 90 25, tab 111
n117=  box "Настройки", 115, 13 118 408 140, tab 111
n118=  check "Выгружать библиотеки при выходе", 116, 20 135 320 15, tab 111
n119=  check "Добавлять знак команды ( / ) при вводе в окно статуса", 117, 20 155 320 15, tab 111
n120=  check "Показывать подсказки к скрипту при запуске", 118, 20 175 320 15, tab 111
n121=  check "Проверять наличие правильной версии mirc.exe", 119, 20 195 320 15, tab 111
n122=  check "Автоматически возращатся с эвей при подключении", 120, 20 215 320 15, tab 111
n123=  check "Показывать сообщения при подключении или отключении от сервера", 121, 20 235 390 15, tab 111
n124=  box "Временная отметка событий", 122, 213 35 208 75, tab 111
n125=  edit %timestamp, 123, 222 67 189 20, tab 111 center
n126=  button "Хорошо", 1000, 243 273 90 26, ok
n127=  button "Отмена", 1001, 339 273 90 26, cancel
n128=}
n129=
n130=on *:dialog:settings:init:*: {
n131=  dll libraries\mdx.dll MarkDialog settings
n132=  dll libraries\mdx.dll SetControlMDX settings 88 window > libraries\dialogs.mdx  
n133=  dll libraries\mdx.dll SetFont settings 10,14,56 13 0 verdana 
n134=  dll libraries\mdx.dll SetColor settings 10,14,56,87,91,92 text $rgb(50,50,50) 
n135=  ;dll libraries\mdx.dll SetFont settings 2,5,8,15,17,20,90,75,76,45,48,55 13 700 verdana 
n136=  window -h @cs
n137=  did -a settings 88 grab $window(@cs).hwnd @cs
n138=  /tip 12 Настроить значения функциональных клавиш (F-Keys).
n139=  /tip 9 Включить сброс Idle времени.
n140=  /tip 10 Введите время, превышая которое будет сбиваться Idle время.
n141=  /tip 3 Введите пароль для блокировки NeOn Script.
n142=  /tip 6 Сменить все сообщения и настройки к пользователям мужского пола.
n143=  /tip 7 Сменить все сообщения и настройки к пользователям женского пола.
n144=  /tip 4 Включить блокировку скрипта паролем (используйте эту опцию с осторожностью).
n145=  /tip 14 Введите надпись, котая отобржается в заголовке главного окна NeOn Script.
n146=  /tip 16 Помощь по тегам.
n147=  /tip 18 WHOIS ответ будет показываться в статусе.
n148=  /tip 19 WHOIS ответ будет показываться в активном окне.
n149=  /tip 21 При запуске NeOn Script в окне статуса будет появлятся информация о новой версии скрипта, если такая существует.
n150=  /tip 22 При запуске NeOn Script в окне статуса будет появлятся краткая информация о скрипте и авторе.
n151=  /tip 23 При подсоединении, опе, уведомлении и тп., из системного трея будут выскакивать системные сообщения (полезно когда NeOn Script не активен).
n152=  /tip 24 Включает/Отключает смайлы
n153=  /tip 24 Включает/Отключает смайлы
n154=  /tip 46 Активная иконка NeOn Script.
n155=  /tip 41 Выключить все звуки.
n156=  /tip 42 Включить все звуки.
n157=  /tip 40 Настроить громкость.
n158=  /tip 1000 Сохранить настройки и выйти.
n159=  /tip 1001 Выйти без сохранения настроек.
n160=  /tip 56 Введите формат временной отметки событий, которая показывается во всех окнах NeOn Script. Вы можете использовать цвета и другие способы форматирования текста.
n161=  /tip 47 Поменять иконку на другую.
n162=  /tip 49 NeOn Script будет выгружать все библиотеки при выходе, которые возможно по каким-то причинам не были выгружены сами.
n163=  /tip 50 При вводе текста в статус, NeOn Script будет добавлять к введённым данным символ команды (если такова небыла введена).
n164=  /tip 51 Каждый раз при запуске NeOn Script будеи появлятся диалог с новой подсказкой для эффективного использования скрипта.
n165=  /tip 52 При старте скрипт проверит версию mIRC.
n166=  /tip 53 Если при подключении вы окажетесь в эвей,скрипт автоматически снимет у вас его.
n167=  /tip 54 Показывать в активном окне ход событий подключения или отключения от сервера.
n168=  /tip 81 Если вы зашли на канал, скрипт автоматически поздаровается с посетителями канала.
n169=  /tip 82 Если вы ушли с канала, скрипт автоматически попрощается.
n170=  /tip 83 Если вам дали войс, то скрипт автоматически поблагодарит человека, который это сделал.
n171=  /tip 84 Если вам дали оп, то скрипт автоматически поблагодарит человека, который это сделал.
n172=  /tip 85 Если у вас сняли войс, то скрипт автоматически возразит.
n173=  /tip 86 Ваш написанный текст будет автоматически переводиться в русские буквы.
n174=  /tip 78 Редактировать сообщения скрипта (при опе, девойсе, защите и тп.).
n175=  /tip 79 Цветное преобразование введённого текста будет включено в приватах.
n176=  /tip 80 Цветное преобразование введённого текста будет работать на каналах.
n177=
n178=  if %showpass = on { did -c settings 4 } 
n179=  if %slap.sex = male { did -c settings 6 } 
n180=  if %slap.sex = female { did -c settings 7 } 
n181=  if %resetidle.enabled = on { did -c settings 9 }
n182=  if %whois.status = on { did -c settings 18 }  
n183=  if %whois.active = on { did -c settings 19 } 
n184=  if %showstarttext = on { did -c settings 22 }
n185=  if %update = on { did -c settings 21 }
n186=  if %arise_state = 1 { did -c settings 23 }  
n187=  if %imgmirc_config = 213 { did -c settings 24 }  
n188=  if %sound.startup == on { did -c settings 26 }
n189=  if %sound.notify == on { did -c settings 36 }
n190=  if %sound.connect == on { did -c settings 27 }
n191=  if %sound.disconnect == on { did -c settings 28 }
n192=  if %sound.connectfail == on { did -c settings 29 }
n193=  if %sound.op == on { did -c settings 30 }
n194=  if %sound.deop == on { did -c settings 31 }
n195=  if %sound.voice == on { did -c settings 32 }
n196=  if %sound.devoice == on { did -c settings 33 }
n197=  if %sound.join == on { did -c settings 34 }
n198=  if %sound.part == on { did -c settings 35 }
n199=  if %sound.kick == on { did -c settings 37 }
n200=  if %sound.ban == on { did -c settings 38 }
n201=  if %sound.away == on { did -c settings 39 }
n202=  if %sound.back == on { did -c settings 43 }
n203=
n204=  if %sound.chan == on { did -c settings 57 }
n205=  if %sound.queryn == on { did -c settings 58 }
n206=
n207=  if %unloaddlls == on { did -c settings 116 }
n208=  if %scmd == on { did -c settings 117 }
n209=  if %stips == on { did -c settings 118 }
n210=  if %goodmirc == on { did -c settings 119 }
n211=  if %autoaway == on { did -c settings 120 }
n212=  if %showcon == on { did -c settings 121 }
n213=  if %sound.chan = on { did -c settings 57 } 
n214=  if %sound.queryn = on { did -c settings 58 } 
n215=  if (%autotext.hello == on) { did -c settings     81 }
n216=  if (%autotext.onpart == on) { did -c settings    82 }
n217=  if (%autotext.onvoice == on) { did -c settings   83 }
n218=  if (%autotext.onop == on) { did -c settings      84 }
n219=  if (%autotext.ondevoice == on) { did -c settings 85 }
n220=  if (%autotext.autotran == on) { did -c settings  86 }
n221=  if (%autotext.color.pr == on) { did -c settings 79 }
n222=  if (%autotext.color.ch == on) { did -c settings  80 }
n223=  did -i settings 87 1 Блочный
n224=  did -i settings 87 2 Подчёркнутый
n225=  did -i settings 87 3 Полужирный
n226=  did -i settings 87 4 Полустрочный
n227=  did -i settings 87 5 Радуга
n228=  did -i settings 87 6 Чёрная радуга
n229=  did -i settings 87 7 Подчёркнутый цвет
n230=  did -i settings 87 8 Реверс
n231=  did -i settings 87 9 Жирный
n232=  did -i settings 87 10 Зелёный
n233=  did -i settings 87 11 Заглавной буквы
n234=  did -c settings 87 %autotext.color.type
n235=  if $did(87).sel == 1 { clear @cs | aline @cs $at.block(Пример стиля текста) }
n236=  if $did(87).sel == 2 { clear @cs | aline @cs $at.under(Пример стиля текста) }
n237=  if $did(87).sel == 3 { clear @cs | aline @cs $at.halfbold(Пример стиля текста) }
n238=  if $did(87).sel == 4 { clear @cs | aline @cs $at.halfcap(Пример стиля текста) }
n239=  if $did(87).sel == 5 { clear @cs | aline @cs $at.spectrum(Пример стиля текста) }
n240=  if $did(87).sel == 6 { clear @cs | aline @cs $at.spectrumb(Пример стиля текста) }
n241=  if $did(87).sel == 7 { clear @cs | aline @cs $at.spectrumu(Пример стиля текста) }
n242=  if $did(87).sel == 8 { clear @cs | aline @cs $at.reverse(Пример стиля текста) }
n243=  if $did(87).sel == 9 { clear @cs | aline @cs $at.bold(Пример стиля текста) }
n244=  if $did(87).sel == 10 { clear @cs | aline @cs $at.green(Пример стиля текста) }
n245=  if $did(87).sel == 11 { clear @cs | aline @cs $at.firstcap(Пример стиля текста) }
n246=}
n247=
n248=on *:dialog:settings:sclick:1000: {
n249=  /set %script.password $did(3).text
n250=  /set %resetidle.interval $did(10).text
n251=  /set %script.title $did(14).text
n252=  .timestamp -f $did(123).text
n253=  /set %timestamp $did(123).text
n254=  if $did(18).state = 1 { /set %whois.status on }
n255=  if $did(18).state = 0 { /set %whois.status off }
n256=  if $did(19).state = 1 { /set %whois.active on }
n257=  if $did(19).state = 0 { /set %whois.active off }
n258=  if $did(4).state = 1 { /set %showpass on }
n259=  if $did(4).state = 0 { /set %showpass off }
n260=  if $did(6).state = 1 { /set %slap.sex male }
n261=  if $did(7).state = 1 { /set %slap.sex female }
n262=  if $did(9).state = 1 { /set %resetidle.enabled on }
n263=  if $did(9).state = 0 { /set %resetidle.enabled off }
n264=  if $did(22).state = 1 { /set %showstarttext on }
n265=  if $did(22).state = 0 { /set %showstarttext off }
n266=  if $did(21).state = 1 { /set %update on }
n267=  if $did(21).state = 0 { /set %update off }  
n268=  if $did(23).state = 1 { /set %arise_state 1 }
n269=  if $did(23).state = 0 { /set %arise_state 0 }
n270=  if $did(24).state = 1 { /set %imgmirc_config 213 }
n271=  if $did(24).state = 0 { /set %imgmirc_config 0 }
n272=  if $did(26).state == 1 { set %sound.startup on } | else { set %sound.startup off }
n273=  if $did(36).state == 1 { set %sound.notify on } | else { set %sound.notify off }
n274=  if $did(27).state == 1 { set %sound.connect on } | else { set %sound.connect off }
n275=  if $did(28).state == 1 { set %sound.disconnect on } | else { set %sound.disconnect off }
n276=  if $did(29).state == 1 { set %sound.connectfail on } | else { set %sound.connectfail off }
n277=  if $did(30).state == 1 { set %sound.op on } | else { set %sound.op off }
n278=  if $did(31).state == 1 { set %sound.deop on } | else { set %sound.deop off }
n279=  if $did(32).state == 1 { set %sound.voice on } | else { set %sound.voice off }
n280=  if $did(33).state == 1 { set %sound.devoice on } | else { set %sound.devoice off }
n281=  if $did(34).state == 1 { set %sound.join on } | else { set %sound.join off }
n282=  if $did(35).state == 1 { set %sound.part on } | else { set %sound.part off }
n283=  if $did(37).state == 1 { set %sound.kick on } | else { set %sound.kick off }
n284=  if $did(38).state == 1 { set %sound.ban on } | else { set %sound.ban off }
n285=  if $did(39).state == 1 { set %sound.away on } | else { set %sound.away off }
n286=  if $did(43).state == 1 { set %sound.back on } | else { set %sound.back off }
n287=  if $did(57).state == 1 { set %sound.chan on } | else { set %sound.chan off }
n288=  if $did(58).state == 1 { set %sound.queryn on } | else { set %sound.queryn off }
n289=  if $did(116).state = 1 { /set %unloaddlls on }
n290=  if $did(116).state = 0 { /set %unloaddlls off }
n291=  if $did(117).state = 1 { /set %scmd on }
n292=  if $did(117).state = 0 { /set %scmd off }
n293=  if $did(118).state = 1 { /set %stips on }
n294=  if $did(118).state = 0 { /set %stips off }
n295=  if $did(119).state = 1 { /set %goodmirc on }
n296=  if $did(119).state = 0 { /set %goodmirc off }
n297=  if $did(120).state = 1 { /set %autoaway on }
n298=  if $did(120).state = 0 { /set %autoaway off }
n299=  if $did(121).state = 1 { /set %showcon on }
n300=  if $did(121).state = 0 { /set %showcon off }
n301=  if ($did(81).state = 1) { /set %autotext.hello on }
n302=  if ($did(81).state = 0) { /set %autotext.hello off }
n303=  if ($did(82).state = 1) { /set %autotext.onpart on }
n304=  if ($did(82).state = 0) { /set %autotext.onpart off }
n305=  if ($did(83).state = 1) { /set %autotext.onvoice on }
n306=  if ($did(83).state = 0) { /set %autotext.onvoice off }
n307=  if ($did(84).state = 1) { /set %autotext.onop on }
n308=  if ($did(84).state = 0) { /set %autotext.onop off }
n309=  if ($did(85).state = 1) { /set %autotext.ondevoice on }
n310=  if ($did(85).state = 0) { /set %autotext.ondevoice off }
n311=  if ($did(86).state = 1) { /set %autotext.autotran on }
n312=  if ($did(86).state = 0) { /set %autotext.autotran off }
n313=  if ($did(79).state = 1) { /set %autotext.color.pr on }
n314=  if ($did(79).state = 0) { /set %autotext.color.pr off }
n315=  if ($did(80).state = 1) { /set %autotext.color.ch on }
n316=  if ($did(80).state = 0) { /set %autotext.color.ch off }
n317=  if %script.fontchanged = yes {
n318=    /exitfont
n319=  }
n320=}
n321=
n322=on *:dialog:settings:sclick:91: {
n323=  /set %script.font $did(91).seltext
n324=  /set %script.fontsize $did(92).seltext
n325=  /writeini mirc.ini fonts fstatus %script.font $+ ,4 $+ %script.fontsize $+ ,1
n326=  /writeini mirc.ini fonts ffinger %script.font $+ ,4 $+ %script.fontsize $+ ,1
n327=  /writeini mirc.ini fonts flinks %script.font $+ ,4 $+ %script.fontsize $+ ,1
n328=  /writeini mirc.ini fonts flist %script.font $+ ,4 $+ %script.fontsize $+ ,1
n329=  /writeini mirc.ini fonts fwwwlist %script.font $+ ,4 $+ %script.fontsize $+ ,1
n330=  /writeini mirc.ini fonts fnotify %script.font $+ ,4 $+ %script.fontsize $+ ,1
n331=  /writeini mirc.ini fonts fdccg %script.font $+ ,4 $+ %script.fontsize $+ ,1
n332=  /writeini mirc.ini fonts fdccs %script.font $+ ,4 $+ %script.fontsize $+ ,1
n333=  /writeini mirc.ini fonts fchannel %script.font $+ ,4 $+ %script.fontsize $+ ,1
n334=  /writeini mirc.ini fonts fquery %script.font $+ ,4 $+ %script.fontsize $+ ,1
n335=  /writeini mirc.ini fonts fchat %script.font $+ ,4 $+ %script.fontsize $+ ,1
n336=  /writeini mirc.ini fonts fserv %script.font $+ ,4 $+ %script.fontsize $+ ,1
n337=  /writeini mirc.ini fonts fmessage %script.font $+ ,4 $+ %script.fontsize $+ ,1
n338=  /set %script.fontchanged yes
n339=}
n340=
n341=on *:dialog:settings:sclick:92: {
n342=  /set %script.font $did(91).seltext
n343=  /set %script.fontsize $did(92).seltext
n344=  /writeini mirc.ini fonts fstatus %script.font $+ ,4 $+ %script.fontsize $+ ,1
n345=  /writeini mirc.ini fonts ffinger %script.font $+ ,4 $+ %script.fontsize $+ ,1
n346=  /writeini mirc.ini fonts flinks %script.font $+ ,4 $+ %script.fontsize $+ ,1
n347=  /writeini mirc.ini fonts flist %script.font $+ ,4 $+ %script.fontsize $+ ,1
n348=  /writeini mirc.ini fonts fwwwlist %script.font $+ ,4 $+ %script.fontsize $+ ,1
n349=  /writeini mirc.ini fonts fnotify %script.font $+ ,4 $+ %script.fontsize $+ ,1
n350=  /writeini mirc.ini fonts fdccg %script.font $+ ,4 $+ %script.fontsize $+ ,1
n351=  /writeini mirc.ini fonts fdccs %script.font $+ ,4 $+ %script.fontsize $+ ,1
n352=  /writeini mirc.ini fonts fchannel %script.font $+ ,4 $+ %script.fontsize $+ ,1
n353=  /writeini mirc.ini fonts fquery %script.font $+ ,4 $+ %script.fontsize $+ ,1
n354=  /writeini mirc.ini fonts fchat %script.font $+ ,4 $+ %script.fontsize $+ ,1
n355=  /writeini mirc.ini fonts fserv %script.font $+ ,4 $+ %script.fontsize $+ ,1
n356=  /writeini mirc.ini fonts fmessage %script.font $+ ,4 $+ %script.fontsize $+ ,1
n357=  /set %script.fontchanged yes
n358=}
n359=
n360=on *:dialog:settings:sclick:12: {
n361=  /fkeys
n362=}
n363=
n364=on *:dialog:settings:sclick:114: {
n365=  /dialog -m icon_change icon_change
n366=}
n367=
n368=dialog icon_change {
n369=  title "Смена иконки скрипта"
n370=  icon mirc.ico
n371=  size -1 -1 122 24
n372=  option dbu
n373=  text "Чтобы сменить иконку скрипта, замените файл 'mirc.ico' в корневой директории скрипта.", 1, 1 1 120 20
n374=}
n375=
n376=on *:dialog:settings:sclick:87: {
n377=  if $did(87).sel == 1 { clear @cs | aline @cs $at.block(Пример стиля текста) }
n378=  if $did(87).sel == 2 { clear @cs | aline @cs $at.under(Пример стиля текста) }
n379=  if $did(87).sel == 3 { clear @cs | aline @cs $at.halfbold(Пример стиля текста) }
n380=  if $did(87).sel == 4 { clear @cs | aline @cs $at.halfcap(Пример стиля текста) }
n381=  if $did(87).sel == 5 { clear @cs | aline @cs $at.spectrum(Пример стиля текста) }
n382=  if $did(87).sel == 6 { clear @cs | aline @cs $at.spectrumb(Пример стиля текста) }
n383=  if $did(87).sel == 7 { clear @cs | aline @cs $at.spectrumu(Пример стиля текста) }
n384=  if $did(87).sel == 8 { clear @cs | aline @cs $at.reverse(Пример стиля текста) }
n385=  if $did(87).sel == 9 { clear @cs | aline @cs $at.bold(Пример стиля текста) }
n386=  if $did(87).sel == 10 { clear @cs | aline @cs $at.green(Пример стиля текста) }
n387=  if $did(87).sel == 11 { clear @cs | aline @cs $at.firstcap(Пример стиля текста) }
n388=  /set %autotext.color.type $did(87).sel
n389=}
n390=
n391=on *:dialog:settings:sclick:78: {
n392=  if !$dialog(messagesmgr) { /dialog -m messagesmgr messagesmgr }
n393=}
n394=
n395=on *:dialog:settings:sclick:16: {
n396=  if !$dialog(settingstitlehelp) { /dialog -m settingstitlehelp settingstitlehelp }
n397=}
n398=
n399=on *:dialog:settings:sclick:40: {
n400=  /volume
n401=}
n402=
n403=on *:dialog:settings:sclick:89: {
n404=  /waves
n405=}
n406=
n407=on *:dialog:settings:sclick:42: {
n408=  did -c settings 26,27,28,29,30,31,32,33,34,35,36,37,38,39,43,57,58
n409=  set %sound.startup on
n410=  set %sound.notify on
n411=  set %sound.connect on
n412=  set %sound.disconnect on
n413=  set %sound.connectfail on
n414=  set %sound.op on
n415=  set %sound.deop on
n416=  set %sound.voice on
n417=  set %sound.devoice on
n418=  set %sound.join on
n419=  set %sound.part on
n420=  set %sound.kick on
n421=  set %sound.ban on
n422=  set %sound.away on
n423=  set %sound.back on
n424=  set %sound.queryn on
n425=  set %sound.chan on
n426=}
n427=
n428=on *:dialog:settings:sclick:41: {
n429=  did -u settings 26,27,28,29,30,31,32,33,34,35,36,37,38,39,43,57,58
n430=  set %sound.startup off
n431=  set %sound.notify off
n432=  set %sound.connect off
n433=  set %sound.disconnect off
n434=  set %sound.connectfail off
n435=  set %sound.op off
n436=  set %sound.deop off
n437=  set %sound.voice off
n438=  set %sound.devoice off
n439=  set %sound.join off
n440=  set %sound.part off
n441=  set %sound.kick off
n442=  set %sound.ban off
n443=  set %sound.away off
n444=  set %sound.back off
n445=  set %sound.queryn off
n446=  set %sound.chan off
n447=}
n448=
n449=dialog settingstitlehelp {
n450=  icon %iconfilename
n451=  title "Помощь по тегам"
n452=  size -1 -1 200 163
n453=  text "<NIK>", 1, 5 5 60 20
n454=  text "<SERVER>", 2, 5 25 60 20
n455=  text "<SETKA>", 3, 5 45 60 20
n456=  text "<RABOTA>", 4, 5 65 60 20
n457=  text "<IDLE>", 5, 5 85 60 20
n458=  text "<AWAY>", 6, 5 105 60 20
n459=  text "<VREMA>", 7, 5 125 60 20
n460=  text "<DATA>", 8, 5 145 60 20
n461=  text "- Текущий ник", 10, 65 5 160 20
n462=  text "- Сервер", 11, 65 25 160 20
n463=  text "- Имя сети", 12, 65 45 160 20
n464=  text "- Время работы", 13, 65 65 160 20
n465=  text "- Idle время", 14, 65 85 160 20
n466=  text "- Статус эвей", 15, 65 105 160 20
n467=  text "- Время", 16, 65 125 160 20
n468=  text "- Дата", 17, 65 145 160 20
n469=}
n470=
n471=dialog messagesmgr {
n472=  title "Редактор сообщений"
n473=  size -1 -1 325 155
n474=  option pixels
n475=  icon icons\autotext.ico, 0
n476=  check "Автоматически выделять введённый текст.", 700, 65 419 264 20, disable
n477=  check "Автоматически подчёркивать введённый текст.", 800, 65 444 320 20, disable
n478=  button "Приветствия", 10, 5 5 155 26
n479=  button "Сообщения при кике", 50, 165 5 155 26
n480=  button "Прощания", 20, 5 35 155 26
n481=  button "Случайные СТСР ответы", 60, 165 65 155 26
n482=  button "Бессмысленный текст", 30, 5 65 155 26
n483=  button "При снятии войса", 70, 165 95 155 26
n484=  button "При даче войса", 40, 5 95 155 26
n485=  button "При даче опа", 80, 165 125 155 26
n486=  button "При выходе", 90, 5 125 155 26
n487=  button "Сообщения при бане", 1, 165 35 155 26
n488=}
n489=
n490=on *:dialog:messagesmgr:sclick:10: {
n491=  /run messages\hello.txt
n492=}
n493=
n494=on *:dialog:messagesmgr:sclick:20: {
n495=  /run messages\bye.txt
n496=}
n497=
n498=on *:dialog:messagesmgr:sclick:30: {
n499=  /run messages\text.txt
n500=}
n501=
n502=on *:dialog:messagesmgr:sclick:40: {
n503=  /run messages\onvoice.txt
n504=}
n505=
n506=on *:dialog:messagesmgr:sclick:50: {
n507=  /run messages\kick.txt
n508=}
n509=
n510=on *:dialog:messagesmgr:sclick:60: {
n511=  /run messages\ctcp.txt
n512=}
n513=
n514=on *:dialog:messagesmgr:sclick:70: {
n515=  /run messages\ondevoice.txt
n516=}
n517=
n518=on *:dialog:messagesmgr:sclick:80: {
n519=  /run messages\onop.txt
n520=}
n521=
n522=on *:dialog:messagesmgr:sclick:90: {
n523=  /run messages\quit.txt
n524=}
n525=
n526=on *:dialog:messagesmgr:sclick:1: {
n527=  /run messages\ban.txt
n528=}
n529=
n530=alias at.block { 
n531=  if $len($1-) > 312 { return $1- }
n532=  var %autotext.temp = 1
n533=  while (%autotext.temp <= $len($1-)) {
n534=    if ($mid($1-,%autotext.temp,1) = $chr(32)) { var %blocks = %blocks $+ $chr(160) } 
n535=    else { var %blocks = %blocks $+ $chr(91) $+ $mid($1-,%autotext.temp,1) $+ $chr(93) } 
n536=    inc %autotext.temp
n537=  }
n538=  return %blocks
n539=}
n540=
n541=alias at.under {
n542=  var %autotext.temp = 1
n543=  var %soobw
n544=  var %cvet
n545=  while %autotext.temp <= $len($1-) {
n546=    if %cvet =  { %cvet =  }
n547=    else { %cvet =  }
n548=    if ($mid($1-,%autotext.temp,1) = $chr(32) ) { %soobw  = %soobw  $+  $+ $chr(160) }
n549=    else { %soobw  = %soobw  $+ %cvet $+ $mid($1-,%autotext.temp,1) }
n550=    inc %autotext.temp
n551=  }
n552=  return %soobw
n553=}
n554=
n555=alias at.halfbold {
n556=  var %autotext.temp = 1
n557=  var %soobw
n558=  var %cvet
n559=  while %autotext.temp <= $len($1-) {
n560=    if %cvet =  { %cvet =  }
n561=    else { %cvet =  }
n562=    if ($mid($1-,%autotext.temp,1) = $chr(32) ) { %soobw  = %soobw  $+  $+ $chr(160) }
n563=    else { %soobw  = %soobw  $+ %cvet $+ $mid($1-,%autotext.temp,1) }
n564=    inc %autotext.temp
n565=  }
n566=  return %soobw
n567=}
n568=
n569=alias at.halfcap {
n570=  var %autotext.temp = 1
n571=  var %soobw
n572=  while %autotext.temp <= $len($1-) {
n573=    if ($mid($1-,%autotext.temp,1) = $chr(32) ) { %soobw  = %soobw  $+ $chr(160) }
n574=    elseif ($mid($1-,%autotext.temp,1) isin a,e,i,o,u,а,е,и,о,ё,у,ы,э,ю,я)  { %soobw  = %soobw $+ $lower($mid($1-,%autotext.temp,1))  }
n575=    else { %soobw  = %soobw  $+ $upper($mid($1-,%autotext.temp,1)) }
n576=    inc %autotext.temp
n577=  }
n578=  return %soobw
n579=}
n580=
n581=alias at.firstcap {
n582=  var %autotext.temp = 1
n583=  var %soobw
n584=  while %autotext.temp <= $len($1-) {
n585=    if ($mid($1-,%autotext.temp,1) = $chr(32) ) { %soobw  = %soobw  $+ $chr(160) }
n586=    elseif ($mid($1-,%autotext.temp,1) && %autotext.temp <= 1)  { %soobw  = %soobw $+ $upper($mid($1-,%autotext.temp,1))  }
n587=    else { %soobw  = %soobw  $+ $mid($1-,%autotext.temp,1) }
n588=    inc %autotext.temp
n589=  }
n590=  return %soobw
n591=}
n592=
n593=alias at.spectrum {
n594=  if $len($1-) > 232 { return $1- }
n595=  var %soobw 
n596=  var %autotext.temp = 1
n597=  var %autotextcor = 04
n598=  while (%autotext.temp <= $len($1-)) {
n599=    if (%autotextcor = 04) { %autotextcor = 06 }
n600=    elseif (%autotextcor = 06) { %autotextcor = 07 }
n601=    elseif (%autotextcor = 07) { %autotextcor = 02 }
n602=    elseif (%autotextcor = 02) { %autotextcor = 12 }
n603=    elseif (%autotextcor = 12) { %autotextcor = 03 }
n604=    elseif (%autotextcor = 03) { %autotextcor = 04 }
n605=    if ($mid($1-,%autotext.temp,1) = $chr(32) ) { %soobw  = %soobw  $+ $chr(160) }
n606=    else { %soobw  = %soobw  $+  $+ %autotextcor $+ $mid($1-,%autotext.temp,1) }
n607=    inc %autotext.temp
n608=  }
n609=  return %atcolor $+ %sublin $+ %soobw  
n610=}
n611=
n612=alias at.spectrumb {
n613=  if $len($1-) > 144 { return $1- }
n614=  var %autotext.temp = 1 
n615=  var %autotextcor = 4,01
n616=  var %soobw 
n617=  while (%autotext.temp <= $len($1-)) {
n618=    if (%autotextcor = 4,01) %autotextcor = 8,01
n619=    elseif (%autotextcor = 8,01) %autotextcor = 9,01
n620=    elseif (%autotextcor = 9,01) %autotextcor = 11,01
n621=    elseif (%autotextcor = 11,01) %autotextcor = 15,01
n622=    elseif (%autotextcor = 15,01) %autotextcor = 13,01
n623=    elseif (%autotextcor = 13,01) %autotextcor = 7,01 
n624=    elseif (%autotextcor = 7,01) %autotextcor = 4,01
n625=    if (  $mid($1-,%autotext.temp,1) = $chr(32) ) { %soobw = %soobw $+ $chr(160) }
n626=    else { %soobw = %soobw  $+  $+ %autotextcor $+ $mid($1-,%autotext.temp,1) }
n627=    inc %autotext.temp
n628=  }
n629=  return %atcolor $+ %sublin $+ %soobw
n630=}
n631=
n632=alias at.spectrumu {  
n633=  var %autotext.temp = $1- 
n634=  %autotext.temp = $replace(%autotext.temp,a,4a,b,3B,c,6c,d,7D,e,4e,f,12F,g,13G,h,6H,i,4i,j,J,k,3K,l,L,m,4M,n,6N,o,4O,p,12P,q,Q,r,13R,s,7S,t,t,u,4u,v,V,w,12W,x,7X,y,Y,z,6z,?,12ї15?) 
n635=  return %autotext.temp
n636=}
n637=
n638=alias at.reverse {
n639=  var  %autotext.temp = 1, %reverso = ""
n640=  %scp2000.tam = $len($$1-)
n641=  if ( $right($$1-,%autotext.temp) = $chr(32) ) { inc %autotext.temp 1 | %autotext.temp2 = %autotext.temp - 1 | goto a1 }
n642=  :a1
n643=  if ( $remove( $right( $$1- , %autotext.temp ) , $right( $$1- , %autotext.temp2 ) ) = $chr(32) ) { %reverso = %reverso $+ $chr(160) | goto a2 }
n644=  else { %reverso = %reverso $+ $remove( $right( $$1- , %autotext.temp ) , $right( $$1- , %autotext.temp2  ) ) }
n645=  :a2
n646=  inc %autotext.temp 1 
n647=  %autotext.temp2 = %autotext.temp - 1
n648=  if ( %autotext.temp <= $len($$1-) ) { goto a1 }
n649=  unset %scp2000.tam %autotext.temp 
n650=  return %atcolor $+ %sublin $+ %reverso
n651=}
n652=
n653=alias at.bold  {
n654=  if $len($1-) > 143 { return $1- }
n655=  var %1 = $len($1-)
n656=  var %ec.at = %ec20
n657=  var %autotext.temp = 1
n658=  while %autotext.temp <= %1 {
n659=    if %ec.at = %ec22 { %ec.at = %ec20 }
n660=    else { %ec.at = %ec22 }
n661=    if ($mid($1-,%autotext.temp,1) = $chr(32) ) { var %ec.msg = %ec.msg $+  $+ %ec.at $+ $chr(160) }
n662=    else { var %ec.msg = %ec.msg $+  $+ %ec.at $+ $mid($1-,%autotext.temp,1) }
n663=    inc %autotext.temp
n664=  } 
n665=  unset %autotext.temp
n666=  return  $+ %ec.msg
n667=}
n668=
n669=alias at.green {
n670=  var %autotext.temp = 1
n671=  var %autotext.temp3 = 1
n672=  var %autotext.temp2 = ""
n673=  var %autotext.temp4 = $replace($1-,$chr(32),ш)
n674=  if $len($1-) > 146 { return $1- }
n675=  while (%autotext.temp <= $len($1-)) {
n676=    if $mid(%autotext.temp4,%autotext.temp,1) = $chr(32) { %autotext.temp2 = %autotext.temp2 $+ $chr(32) }  
n677=    if %autotext.temp3 = 1 { 
n678=      if $mid(%autotext.temp4,%autotext.temp,1)  isnum { %autotext.temp2 = %autotext.temp2 $+ 9,01 $+ $mid(%autotext.temp4,%autotext.temp,1) | %autotext.temp3  = 0 | goto next  }
n679=      %autotext.temp2 = %autotext.temp2 $+ 9,1 $+ $mid(%autotext.temp4,%autotext.temp,1) | %autotext.temp3  = 0 | goto next
n680=    } 
n681=    if %autotext.temp3 = 0 { 
n682=      if $mid(%autotext.temp4,%autotext.temp,1)  isnum { %autotext.temp2 = %autotext.temp2 $+ 3,01 $+ $mid(%autotext.temp4,%autotext.temp,1) | %autotext.temp3  = 1  } 
n683=      %autotext.temp2 = %autotext.temp2 $+ 3,1 $+ $mid(%autotext.temp4,%autotext.temp,1) | %autotext.temp3  = 1  
n684=    }  
n685=    :next
n686=    inc %autotext.temp
n687=  }
n688=  return $replace(%autotext.temp2,ш,$chr(32))
n689=}
n690=
n691=on *:dialog:settings:*:*:{
n692=  if ($devent == init) {
n693=    dll libraries\mdx.dll MarkDialog $dname
n694=    if (%rato == Blue) { did -c $dname 47 }
n695=    if (%rato == Linux) { did -c $dname 59 }
n696=    if (%rato == Lblue) { did -c $dname 60 }
n697=    if (%rato == Conus) { did -c $dname 61 }
n698=    if (%rato == Chameleon) { did -c $dname 62 }
n699=    if (%rato == Perl) { did -c $dname 63 }
n700=    if (%rato == Rotate) { did -c $dname 64 }
n701=    if (%rato == Mystical) { did -c $dname 65 }
n702=    if (%rato == Fire) { did -c $dname 66 }
n703=    if (%rato == Lightning) { did -c $dname 67 }
n704=    if (%rato == Matrix) { did -c $dname 73 }
n705=    if (%rato == Fun) { did -c $dname 74 }
n706=    if (%rato == Green) { did -c $dname 101 }
n707=    if (%rato == Red) { did -c $dname 102 }
n708=
n709=    if (%cursors == on) { did -c $dname 103 | did -e $dname 47,59,60,61,62,63,64,65,66,67,73,74,101,102 }
n710=    if (%cursors == off) { did -b $dname 47,59,60,61,62,63,64,65,66,67,73,74,101,102 }
n711=  }
n712=
n713=  if ($devent == sclick) {
n714=    if ($did == 47) { 
n715=      set %rato blue
n716=      cursordll SetMouseCursor $shortfn(files\cursor\CUrsor1.cur)
n717=    }
n718=    if ($did == 59) { 
n719=      set %rato Linux
n720=      cursordll SetMouseCursor $shortfn(files\cursor\CUrsor2.cur)
n721=    }
n722=    if ($did == 60) { 
n723=      set %rato Lblue 
n724=      cursordll SetMouseCursor $shortfn(files\cursor\CUrsor4.cur)
n725=    }
n726=    if ($did == 61) { 
n727=      set %rato Conus 
n728=      cursordll SetMouseCursor $shortfn(files\cursor\CUrsor3.cur)
n729=    }
n730=    if ($did == 62) { 
n731=      set %rato Chameleon 
n732=      cursordll SetMouseCursor $shortfn(files\cursor\CUrsor5.ani)
n733=    }
n734=    if ($did == 63) { 
n735=      set %rato Perl 
n736=      cursordll SetMouseCursor $shortfn(files\cursor\CUrsor6.ani)
n737=    }
n738=    if ($did == 64) { 
n739=      set %rato Rotate 
n740=      cursordll SetMouseCursor $shortfn(files\cursor\CUrsor7.ani)
n741=    }
n742=    if ($did == 65) { 
n743=      set %rato Mystical 
n744=      cursordll SetMouseCursor $shortfn(files\cursor\CUrsor8.ani)
n745=    } 
n746=    if ($did == 66) { 
n747=      set %rato Fire 
n748=      cursordll SetMouseCursor $shortfn(files\cursor\CUrsor9.ani)
n749=    }
n750=    if ($did == 67) { 
n751=      set %rato Lightning 
n752=      cursordll SetMouseCursor $shortfn(files\cursor\CUrsor10.ani)
n753=    } 
n754=    if ($did == 73) { 
n755=      set %rato Matrix 
n756=      cursordll SetMouseCursor $shortfn(files\cursor\CUrsor11.ani)
n757=    }
n758=    if ($did == 74) { 
n759=      set %rato Fun 
n760=      cursordll SetMouseCursor $shortfn(files\cursor\CUrsor12.ani)
n761=    } 
n762=    if ($did == 101) { 
n763=      set %rato Green 
n764=      cursordll SetMouseCursor $shortfn(files\cursor\CUrsor13.cur)
n765=    } 
n766=    if ($did == 102) { 
n767=      set %rato Green 
n768=      cursordll SetMouseCursor $shortfn(files\cursor\CUrsor14.cur)
n769=    } 
n770=    if ($did == 103) { 
n771=      if (%cursors == on) { set %cursors off | did -b $dname 47,59,60,61,62,63,64,65,66,67,73,74,101,102 | cursordll RestoreCursor }
n772=      else { set %cursors on | did -e $dname 47,59,60,61,62,63,64,65,66,67,73,74,101,102 }
n773=      ratos
n774=    }
n775=  }
n776=}
n777=
n778=alias dodialog {
n779=  %x = $1
n780=  if ($1 == -md) { $iif($dialog($2),dialog -c $2,dialog -md $2 $2) }
n781=  else {
n782=    if (%x) { $iif($dialog(%x),dialog -c %x,dialog -m %x %x) }
n783=    else {
n784=      echo -a (dodialog error) | halt 
n785=    }
n786=    if ($2) { if ($dialog(%x)) { dialog -c %x | dialog -m %x %x }
n787=      else { dialog -m %x %x } 
n788=    }
n789=  }
n790=}
n791=
n792=alias ratos {
n793=  if (%cursors == on) {
n794=    if (%rato == blue) { cursordll SetMouseCursor $shortfn(files\cursor\CUrsor1.cur) }
n795=    if (%rato == Linux) { cursordll SetMouseCursor $shortfn(files\cursor\CUrsor2.cur) }
n796=    if (%rato == Conus) { cursordll SetMouseCursor $shortfn(files\cursor\CUrsor3.cur) }
n797=    if (%rato == Wblue) { cursordll SetMouseCursor $shortfn(files\cursor\CUrsor4.cur) }
n798=    if (%rato == Chameleon) { cursordll SetMouseCursor $shortfn(files\cursor\CUrsor5.ani) }
n799=    if (%rato == Perl) { cursordll SetMouseCursor $shortfn(files\cursor\CUrsor6.ani) }
n800=    if (%rato == Rotate) { cursordll SetMouseCursor $shortfn(files\cursor\CUrsor7.ani) }
n801=    if (%rato == Mystical) { cursordll SetMouseCursor $shortfn(files\cursor\CUrsor8.ani) }
n802=    if (%rato == Fire) { cursordll SetMouseCursor $shortfn(files\cursor\CUrsor9.ani) }
n803=    if (%rato == Lightning) { cursordll SetMouseCursor $shortfn(files\cursor\CUrsor10.ani) }
n804=    if (%rato == Matrix) { cursordll SetMouseCursor $shortfn(files\cursor\CUrsor11.ani) }
n805=    if (%rato == Fun) { cursordll SetMouseCursor $shortfn(files\cursor\CUrsor12.ani) }
n806=    if (%rato == Green) { cursordll SetMouseCursor $shortfn(files\cursor\CUrsor13.cur) }
n807=    if (%rato == Red) { cursordll SetMouseCursor $shortfn(files\cursor\CUrsor14.cur) }
n808=    if (%rato == selected) { cursordll SetMouseCursor $shortfn( $+ %cursor $+ ) }
n809=  }
n810=}
n811=
n812=alias cur { return $shortfn(libraries\cursor.dll) }
n813=alias cursordll { dll $shortfn(libraries\cursor.dll) $1- }
n814=
n815=
n816=;###################################################################################################################
n817=;#########################################  AUTOCONNECT  ###########################################################
n818=;###################################################################################################################
n819=
n820=alias autoconnect {
n821=  if $dialog(autoconnect) = $null { dialog -m autoconnect autoconnect }
n822=  else halt
n823=}
n824=
n825=dialog autoconnect {
n826=  title "Авто соединение"
n827=  size -1 -1 201 360
n828=  option pixels
n829=  icon icons\autoconn.ico, 0
n830=  radio "Включено", 1, 10 23 75 20, group push
n831=  radio "Выключено", 2, 107 23 80 20, push
n832=  text "Сервер №1:", 31, 27 122 100 20
n833=  edit "", 20, 26 139 150 20, autohs center
n834=  button "Хорошо", 100, 27 299 150 26, ok
n835=  button "Отмена", 200, 28 329 150 26, cancel
n836=  radio "1", 4, 28 80 27 20, group
n837=  radio "2", 5, 68 80 27 20
n838=  radio "3", 6, 108 80 27 20
n839=  radio "4", 7, 147 80 27 20
n840=  text "Сервер №2:", 8, 27 165 100 20
n841=  text "Сервер №3:", 9, 27 207 100 20
n842=  edit "", 11, 26 180 150 20, autohs center
n843=  edit "", 12, 26 223 150 20, autohs center
n844=  text "Сервер №3:", 13, 29 250 100 20
n845=  edit "", 14, 27 266 150 20, autohs center
n846=  box "Автосоединение", 22, 2 6 195 48
n847=  box "Количество серверов", 23, 2 60 197 46
n848=}
n849=
n850=
n851=on *:dialog:autoconnect:sclick:100: {
n852=  if ($did(autoconnect ,1).state = 1) { /set %autoconnect on }
n853=  if ($did(autoconnect ,2).state = 1) { /set %autoconnect off }   
n854=  if ($did(autoconnect ,4).state = 1) { /set %connectservers 1 }
n855=  if ($did(autoconnect ,5).state = 1) { /set %connectservers 2 }
n856=  if ($did(autoconnect ,6).state = 1) { /set %connectservers 3 }
n857=  if ($did(autoconnect ,7).state = 1) { /set %connectservers 4 }
n858=  /set %autoconnect.server1 $did(20) 
n859=  /set %autoconnect.server2 $did(11) 
n860=  /set %autoconnect.server3 $did(12) 
n861=  /set %autoconnect.server4 $did(14) 
n862=}
n863=
n864=on *:dialog:autoconnect:init:*: {
n865=  /tip 1 Включить авто соединение.
n866=  /tip 2 Выключить авто соединение.
n867=  /tip 10 Введите ник, который будет использоваться при подключении.
n868=  /tip 20 Введите сервер, на который нужно автоматически подсоединяться.
n869=  /tip 100 Сохранить настройки.
n870=  /tip 200 Выход без изменений настроек.
n871=  if %autoconnect = on { did -c autoconnect 1 }
n872=  if %autoconnect = off { did -c autoconnect 2 }
n873=  if (%connectservers == 1) { did -c autoconnect 4 }
n874=  if (%connectservers == 2) { did -c autoconnect 5 }
n875=  if (%connectservers == 3) { did -c autoconnect 6 }
n876=  if (%connectservers == 4) { did -c autoconnect 7 }
n877=  if (%autoconnect.server1 != $null) { did -o autoconnect 20 1 %autoconnect.server1 }
n878=  if (%autoconnect.server2 != $null) { did -o autoconnect 11 1 %autoconnect.server2 }
n879=  if (%autoconnect.server3 != $null) { did -o autoconnect 12 1 %autoconnect.server3 }
n880=  if (%autoconnect.server4 != $null) { did -o autoconnect 14 1 %autoconnect.server4 }
n881=  ;did -ft $dname 100
n882=}
n883=
n884=;###################################################################################################################
n885=;#########################################  AUTOJOIN  ##############################################################
n886=;###################################################################################################################
n887=
n888=alias autojoin {
n889=  if $dialog(autojoin) = $null { dialog -m autojoin autojoin }
n890=  else halt
n891=}
n892=
n893=dialog autojoin {
n894=  icon icons\ajoin.ico
n895=  title "Система авто вход"
n896=  size -1 -1 230 292
n897=  radio "Включена"    1,  6   4  70 20
n898=  radio "Выключена"   2, 85   4  80 20
n899=  list 100, 5 25 150 200
n900=  button "Добавить",10,160 25 65 30
n901=  button "Удалить", 20,160 60 65 30
n902=  button "Очистить",30,160 95 65 30
n903=  check "Свернуть окна каналов при входе", 300, 10 215 220 20
n904=  check "Заходить на канал при приглашении", 400, 10 235 220 20
n905=  button "Хорошо", 200, 5 257 220 30, cancel
n906=}
n907=
n908=on *:dialog:autojoin:sclick:200: {
n909=  if ($did(autojoin ,1).state == 1) { /set %autojoin on }
n910=  if ($did(autojoin ,2).state == 1) { /set %autojoin off }
n911=}
n912=
n913=on *:dialog:autojoin:sclick:300: {
n914=  if ($did(autojoin ,300).state == 0) { /set %autojoin.minimize off }
n915=  if ($did(autojoin ,300).state == 1) { /set %autojoin.minimize on }
n916=}
n917=
n918=on *:dialog:autojoin:sclick:400: {
n919=  if ($did(autojoin ,400).state == 0) { /set %autojoin.invite off }
n920=  if ($did(autojoin ,400).state == 1) { /set %autojoin.invite on }
n921=}
n922=
n923=on *:dialog:autojoin:sclick:10: {
n924=  /did -i autojoin 100 1 #$$?="Введите канал:"
n925=  /set %autojoinchannels $didtok(autojoin,100,44)
n926=}
n927=
n928=on *:dialog:autojoin:sclick:20: {
n929=  if ($did(100).seltext = $null) { halt }
n930=  /set %autojoinchannels $didtok(autojoin,100,44)
n931=  if (%autojoinselchannel != $null) && (%autojoinchannels != $null) { /did -d autojoin 100 $findtok(%autojoinchannels,%autojoinselchannel,1,44) }
n932=  /set %autojoinchannels $didtok(autojoin,100,44)
n933=  /set %autojoinselchannel $null
n934=
n935=}
n936=
n937=on 1:dialog:autojoin:sclick:30: {
n938=  /did -r autojoin 100 
n939=  /set %autojoinchannels $didtok(autojoin,100,44) 
n940=}
n941=
n942=on *:dialog:autojoin:sclick:100: {
n943=  /set %autojoinselchannel $did(100).seltext 
n944=  /set %autojoinchannels $didtok(autojoin,100,44)
n945=}
n946=
n947=on *:dialog:autojoin:dclick:100: {
n948=  if ($did(100).seltext != $null) && ($status == connected) { /join $did(100).seltext }
n949=}
n950=
n951=on *:dialog:autojoin:init:*: {
n952=  /tip 1 Включить авто вход.
n953=  /tip 2 Выключить авто вход.
n954=  /tip 100 Список всех каналов в авто входе.
n955=  /tip 10 Добавить новый канал в список авто входа.
n956=  /tip 20 Удалить выделеный канал из списка авто входа.
n957=  /tip 30 Удалить все каналы из списка.
n958=  /tip 300 Каналы будут автоматически свёрнуты в панель переключений при входе.
n959=  /tip 400 Автоматически заходить на канал, если пригласили.
n960=  /tip 200 Сохранить настройки и выйти.
n961=  if (%autojoin == on) { did -c autojoin 1 }
n962=  if (%autojoin == off) { did -c autojoin 2 }
n963=  if (%autojoin.minimize == on) { did -c autojoin 300 }
n964=  if (%autojoin.invite == on) { did -c autojoin 400 }
n965=  ;did -ft $dname 10
n966=  /didtok $dname 100 44 %autojoinchannels
n967=  halt
n968=}
n969=on *:dialog:autojoin:close:*: {
n970=  /unset %autojointotalchannels 
n971=  /unset %autojoincurrentchannel 
n972=  /unset %autojoinselchannel 
n973=}
n974=
n975=alias addtoautojoin {
n976=  if $istokcs(%autojoinchannels,#,44) { echo %skins.prefix Канал # уже занесён в список авто входа | halt }
n977=  /set %autojoin.addto #
n978=  if $dialog(autojoin) = $null { dialog -m autojoin autojoin }
n979=  /did -i autojoin 100 1 %autojoin.addto
n980=  /set %autojoinchannels $didtok(autojoin,100,44)
n981=  if $dialog(autojoin) { dialog -x autojoin }
n982=  /echo %skins.prefix Канал %autojoin.addto добавлен в авто вход
n983=  /unset %autojoin.addto
n984=}
n985=
n986=on *:invite:#: {
n987=  if (%autojoin.invite == on) { /join $chan }
n988=}
n989=
n990=on *:join:#: { 
n991=  if (%lova == on && $nick == %lovnick) { /kick # %lovnick $read(messages\kick.txt) | inc %kicks | /invite %lovnick # }
n992=  if (%vnezavis == 1 && $me !isop #) { /mode # +e $address($me,2) | /mode # +I $address($me,2) }
n993=  if ($nick = $me) && (%autotext.hello == on) { .timer 1 4 /msg $chan $read(messages\hello.txt) }
n994=  if ($nick = $me) && ($chan == %autoid.channel1) && (%autoid.channel1.enabled == on) { %chanserv identify %autoid.channel1 %autoid.passch1 }
n995=  if ($nick = $me) && ($chan == %autoid.channel2) && (%autoid.channel2.enabled == on) { %chanserv identify %autoid.channel2 %autoid.passch2 }
n996=  if ($nick = $me) && ($chan == %autoid.channel3) && (%autoid.channel3.enabled == on) { %chanserv identify %autoid.channel3 %autoid.passch3 }
n997=  if ($nick = $me) && ($chan == %autoid.channel4) && (%autoid.channel4.enabled == on) { %chanserv identify %autoid.channel4 %autoid.passch4 }
n998=  if ($nick = $me) && ($chan == %autoid.channel5) && (%autoid.channel5.enabled == on) { %chanserv identify %autoid.channel5 %autoid.passch5 }
n999=  if ($nick = $me) && ($chan == %autoid.channel6) && (%autoid.channel6.enabled == on) { %chanserv identify %autoid.channel6 %autoid.passch6 }
n1000=
n1001=  if ($nick == $me) { halt }
n1002=  if ($me !isop $chan) { halt }
n1003=  if (%blacklist == off) { halt }  
n1004=  %i = 1
n1005=  :next
n1006=  if ($nick != $gettok(%blacklist.nicks,%i,44)) { halt }
n1007=  if (%blacklist.action = getvoice) { /mode $chan -v $gettok(%blacklist.nicks,%i,44) }
n1008=  if (%blacklist.action = getop) { /mode $chan -o $gettok(%blacklist.nicks,%i,44) }
n1009=  if (%blacklist.action = kick) { /kick $chan $gettok(%blacklist.nicks,%i,44) }
n1010=  if (%blacklist.action = ban) { /mode $chan +b $gettok(%blacklist.nicks,%i,44) | /kick $chan $gettok(%blacklist.nicks,%i,44) }
n1011=  if $gettok(%blacklist.nicks,%i,44) = $null { goto white }
n1012=  inc %i
n1013=  goto next
n1014=  :white
n1015=  %i = 1
n1016=  :next2
n1017=  if (%whitelist.action = voice) { /mode $chan +v $gettok(%whitelist.nicks,%i,44) }
n1018=  if (%whitelist.action = op) { /mode $chan +o $gettok(%whitelist.nicks,%i,44) }
n1019=  if (%whitelist.action = add) { %chanserv access $chan add $gettok(%whitelist.nicks,%i,44) 50 }
n1020=  if $gettok(%whitelist.nicks,%i,44) = $null { halt }
n1021=  inc %i
n1022=  goto next2
n1023=}
n1024=
n1025=on *:part:#: { if ($nick = $me) && (%autotext.onpart == on) { /msg $chan $read(messages\bye.txt) } }
n1026=on *:voice:#:if ($vnick = $me) && (%autotext.onvoice == on) && ($nick != chanserv) && ($nick != services.irc.lv) && ($nick != $me) { .timer 1 1 /msg $chan $read(messages\onvoice.txt) }
n1027=on *:op:#:if ($opnick = $me) && (%autotext.onop == on)  && ($nick != chanserv) && ($nick != services.irc.lv) && ($nick != $me) { .timer 1 1 /msg $chan $read(messages\onop.txt) }
n1028=on *:devoice:#:if ($vnick = $me) && (%autotext.ondevoice == on) && ($nick != chanserv) && ($nick != services.irc.lv) && ($nick != $me) { .timer 1 1 /msg $chan $read(messages\ondevoice.txt) }
n1029=
n1030=;###################################################################################################################
n1031=;#########################################  AUTOIDENTIFY  ##########################################################
n1032=;###################################################################################################################
n1033=
n1034=alias autoid {
n1035=  if $dialog(autoid) = $null { dialog -m autoid autoid }
n1036=  else halt
n1037=}
n1038=
n1039=dialog autoid {
n1040=  icon icons\autoid.ico
n1041=  title "Авто идентификация"
n1042=  size -1 -1 250 265
n1043=  tab "Для ников", 765, 5 5 237 197
n1044=  box "Ники" 123,30 27 100 165, tab 765
n1045=  box "Пароли" 113,135 27 100 165, tab 765
n1046=  check "",1,13 45 15 15  , tab 765
n1047=  edit %autoid.nick1 ,10,35 42 90 20,center,autohs, tab 765
n1048=  edit %autoid.pass1 ,11,140 42 90 20,center,autohs, pass, tab 765
n1049=  check "",2,13 70 15 15  , tab 765
n1050=  edit %autoid.nick2 ,20,35 67 90 20,center,autohs, tab 765
n1051=  edit %autoid.pass2 ,21,140 67 90 20,center,autohs,  pass, tab 765
n1052=  check "",3,13 95 15 15  , tab 765
n1053=  edit %autoid.nick3 ,30,35 92 90 20,center,autohs, tab 765
n1054=  edit %autoid.pass3 ,31,140 92 90 20,center,autohs,  pass, tab 765
n1055=  check "",4,13 120 15 15  , tab 765
n1056=  edit %autoid.nick4 ,40,35 117 90 20,center,autohs, tab 765
n1057=  edit %autoid.pass4 ,41,140 117 90 20,center,autohs,  pass, tab 765
n1058=  check "",5,13 145 15 15  , tab 765
n1059=  edit %autoid.nick5 ,50,35 142 90 20,center,autohs, tab 765
n1060=  edit %autoid.pass5 ,51,140 142 90 20,center,autohs,  pass, tab 765
n1061=  check "",6,13 170 15 15  , tab 765
n1062=  edit %autoid.nick6 ,60,35 168 90 20,center,autohs, tab 765
n1063=  edit %autoid.pass6 ,61,140 168 90 20,center,autohs,  pass, tab 765
n1064=  tab "Для каналов", 766
n1065=  box "Каналы" 133,30 27 100 165, tab 766
n1066=  box "Пароли"  143,135 27 100 165, tab 766
n1067=  check "",101,13 45 15 15  , tab 766
n1068=  edit %autoid.channel1 ,100,35 42 90 20,center,autohs, tab 766
n1069=  edit %autoid.passch1 ,110,140 42 90 20,center,autohs,  pass, tab 766
n1070=  check "",201,13 70 15 15  , tab 766
n1071=  edit %autoid.channel2 ,200,35 67 90 20,center,autohs, tab 766
n1072=  edit %autoid.passch2 ,210,140 67 90 20,center,autohs,  pass, tab 766
n1073=  check "",301,13 95 15 15  , tab 766
n1074=  edit %autoid.channel3 ,300,35 92 90 20,center,autohs, tab 766
n1075=  edit %autoid.passch3 ,310,140 92 90 20,center,autohs,  pass, tab 766
n1076=  check "",401,13 120 15 15  , tab 766
n1077=  edit %autoid.channel4 ,400,35 117 90 20,center,autohs, tab 766
n1078=  edit %autoid.passch4 ,410,140 117 90 20,center,autohs,  pass, tab 766
n1079=  check "",501,13 145 15 15  , tab 766
n1080=  edit %autoid.channel5 ,500,35 142 90 20,center,autohs, tab 766
n1081=  edit %autoid.passch5 ,510,140 142 90 20,center,autohs,  pass, tab 766
n1082=  check "",601,13 170 15 15  , tab 766
n1083=  edit %autoid.channel6 ,600,35 168 90 20,center,autohs, tab 766
n1084=  edit %autoid.passch6 ,610,140 168 90 20,center,autohs,  pass, tab 766
n1085=  button "Хорошо",1000,5 205 240 26,ok
n1086=  button "Отмена",2000,5 235 240 26,cancel
n1087=
n1088=}
n1089=on *:dialog:autoid:init:*: {
n1090=  /tip 1 Использование ника из 1 слота.
n1091=  /tip 2 Использование ника из 2 слота.
n1092=  /tip 3 Использование ника из 3 слота.
n1093=  /tip 4 Использование ника из 4 слота.
n1094=  /tip 5 Использование ника из 5 слота.
n1095=  /tip 6 Использование ника из 6 слота.
n1096=  /tip 101 Использование канала из 1 слота.
n1097=  /tip 201 Использование канала из 2 слота.
n1098=  /tip 301 Использование канала из 3 слота.
n1099=  /tip 401 Использование канала из 4 слота.
n1100=  /tip 501 Использование канала из 5 слота.
n1101=  /tip 601 Использование канала из 6 слота.
n1102=  /tip 10 Введите ник, который нужно идентифицировать.
n1103=  /tip 20 Введите ник, который нужно идентифицировать.
n1104=  /tip 30 Введите ник, который нужно идентифицировать.
n1105=  /tip 40 Введите ник, который нужно идентифицировать.
n1106=  /tip 50 Введите ник, который нужно идентифицировать.
n1107=  /tip 60 Введите ник, который нужно идентифицировать.
n1108=  /tip 11 Введите пароль к нику слева.
n1109=  /tip 21 Введите пароль к нику слева.
n1110=  /tip 31 Введите пароль к нику слева.
n1111=  /tip 41 Введите пароль к нику слева.
n1112=  /tip 51 Введите пароль к нику слева.
n1113=  /tip 61 Введите пароль к нику слева.
n1114=  /tip 100 Введите канал, который нужно идентифицировать. Впереди не забудьте поставить значок #.
n1115=  /tip 200 Введите канал, который нужно идентифицировать. Впереди не забудьте поставить значок #.
n1116=  /tip 300 Введите канал, который нужно идентифицировать. Впереди не забудьте поставить значок #.
n1117=  /tip 400 Введите канал, который нужно идентифицировать. Впереди не забудьте поставить значок #.
n1118=  /tip 500 Введите канал, который нужно идентифицировать. Впереди не забудьте поставить значок #.
n1119=  /tip 600 Введите канал, который нужно идентифицировать. Впереди не забудьте поставить значок #.
n1120=  /tip 110 Введите пароль к каналу слева.
n1121=  /tip 210 Введите пароль к каналу слева.
n1122=  /tip 310 Введите пароль к каналу слева.
n1123=  /tip 410 Введите пароль к каналу слева.
n1124=  /tip 510 Введите пароль к каналу слева.
n1125=  /tip 610 Введите пароль к каналу слева.
n1126=  /tip 1000 Сохранение всех настроек.
n1127=  /tip 2000 Выход без изменений настроек.  
n1128=  if %autoid.nick1.enabled = on { did -c autoid 1 }  
n1129=  if %autoid.nick2.enabled = on { did -c autoid 2 }
n1130=  if %autoid.nick3.enabled = on { did -c autoid 3 }
n1131=  if %autoid.nick4.enabled = on { did -c autoid 4 }
n1132=  if %autoid.nick5.enabled = on { did -c autoid 5 }
n1133=  if %autoid.nick6.enabled = on { did -c autoid 6 }
n1134=  if %autoid.channel1.enabled = on { did -c autoid 101 }  
n1135=  if %autoid.channel2.enabled = on { did -c autoid 201 }
n1136=  if %autoid.channel3.enabled = on { did -c autoid 301 }
n1137=  if %autoid.channel4.enabled = on { did -c autoid 401 }
n1138=  if %autoid.channel5.enabled = on { did -c autoid 501 }
n1139=  if %autoid.channel6.enabled = on { did -c autoid 601 }
n1140=  ;did -ft $dname 1000
n1141=}
n1142=
n1143=on *:dialog:autoid:sclick:1000: {
n1144=  if ($did(autoid,1).state = 1) { %autoid.nick1.enabled = on } | else { %autoid.nick1.enabled = off }
n1145=  if ($did(autoid,2).state = 1) { %autoid.nick2.enabled = on } | else { %autoid.nick2.enabled = off }
n1146=  if ($did(autoid,3).state = 1) { %autoid.nick3.enabled = on } | else { %autoid.nick3.enabled = off }
n1147=  if ($did(autoid,4).state = 1) { %autoid.nick4.enabled = on } | else { %autoid.nick4.enabled = off }
n1148=  if ($did(autoid,5).state = 1) { %autoid.nick5.enabled = on } | else { %autoid.nick5.enabled = off }
n1149=  if ($did(autoid,6).state = 1) { %autoid.nick6.enabled = on } | else { %autoid.nick6.enabled = off }
n1150=  if ($did(autoid,101).state = 1) { %autoid.channel1.enabled = on } | else { %autoid.channel1.enabled = off }
n1151=  if ($did(autoid,201).state = 1) { %autoid.channel2.enabled = on } | else { %autoid.channel2.enabled = off }
n1152=  if ($did(autoid,301).state = 1) { %autoid.channel3.enabled = on } | else { %autoid.channel3.enabled = off }
n1153=  if ($did(autoid,401).state = 1) { %autoid.channel4.enabled = on } | else { %autoid.channel4.enabled = off }
n1154=  if ($did(autoid,501).state = 1) { %autoid.channel5.enabled = on } | else { %autoid.channel5.enabled = off }
n1155=  if ($did(autoid,601).state = 1) { %autoid.channel6.enabled = on } | else { %autoid.channel6.enabled = off }
n1156=  %autoid.nick1 = $did(10) 
n1157=  %autoid.nick2 = $did(20) 
n1158=  %autoid.nick3 = $did(30) 
n1159=  %autoid.nick4 = $did(40) 
n1160=  %autoid.nick5 = $did(50)
n1161=  %autoid.nick6 = $did(60)
n1162=  %autoid.pass1 = $did(11) 
n1163=  %autoid.pass2 = $did(21) 
n1164=  %autoid.pass3 = $did(31) 
n1165=  %autoid.pass4 = $did(41) 
n1166=  %autoid.pass5 = $did(51)
n1167=  %autoid.pass6 = $did(61) 
n1168=  %autoid.channel1 = $did(100) 
n1169=  %autoid.channel2 = $did(200) 
n1170=  %autoid.channel3 = $did(300) 
n1171=  %autoid.channel4 = $did(400) 
n1172=  %autoid.channel5 = $did(500)
n1173=  %autoid.channel6 = $did(600)
n1174=  %autoid.passch1 = $did(110) 
n1175=  %autoid.passch2 = $did(210) 
n1176=  %autoid.passch3 = $did(310) 
n1177=  %autoid.passch4 = $did(410) 
n1178=  %autoid.passch5 = $did(510)
n1179=  %autoid.passch6 = $did(610) 
n1180=} 
n1181=
n1182=on *:nick: {
n1183=  if ($nick == $me) {
n1184=    if ($left($newnick,5) == guest) { /nick $anick }
n1185=    if ($newnick == %autoid.nick1) && (%autoid.nick1.enabled == on) { /identify %autoid.pass1 }
n1186=    if ($newnick == %autoid.nick2) && (%autoid.nick2.enabled == on) { /identify %autoid.pass2 }
n1187=    if ($newnick == %autoid.nick3) && (%autoid.nick3.enabled == on) { /identify %autoid.pass3 }
n1188=    if ($newnick == %autoid.nick4) && (%autoid.nick4.enabled == on) { /identify %autoid.pass4 }
n1189=    if ($newnick == %autoid.nick5) && (%autoid.nick5.enabled == on) { /identify %autoid.pass5 }
n1190=    if ($newnick == %autoid.nick6) && (%autoid.nick6.enabled == on) { /identify %autoid.pass6 }
n1191=  }
n1192=}
n1193=
n1194=;###################################################################################################################
n1195=;#########################################  CONTROL PANEL  #########################################################
n1196=;###################################################################################################################
n1197=
n1198=alias cpanel {
n1199=  if $dialog(cpanel) = $null { dialog -m cpanel cpanel }
n1200=  else halt
n1201=}
n1202=
n1203=dialog cpanel {
n1204=  title "Контрольная панель"
n1205=  size -1 -1 389 390
n1206=  option pixels
n1207=  icon icons\cpanel.ico, 0
n1208=  list 1, 5 87 379 63, size
n1209=  list 2, 5 150 379 235, size
n1210=  list 3, 5 150 379 235, hide size
n1211=  list 4, 5 150 379 235, hide size
n1212=  list 6, 5 150 379 235, hide size
n1213=  list 8, 5 150 379 235, hide size
n1214=  button "", 5, 0 0 0 0, hide
n1215=  box "Разделы", 7, 2 71 385 74
n1216=  icon 9, 0 0 389 71, icons\cp.gif, 0, top
n1217=}
n1218=
n1219=on *:dialog:cpanel:init:*: {
n1220=  dll libraries\mdx.dll MarkDialog $dname
n1221=  dll libraries\mdx.dll SetControlMDX $dname 2,3,4,6,8 listview autoarrange labeltip extsel icon single > libraries\views.mdx
n1222=  dll libraries\mdx.dll SetControlMDX $dname 1 toolbar flat wrap nodivider  > libraries\bars.mdx
n1223=  dll libraries\mdx.dll SetBorderStyle 1,2,3,4,6,8
n1224=  dll libraries\mdx.dll SetBorderStyle 2,3,4,6,8 windowedge staticedge
n1225=
n1226=  did -i $dname 1,2,3,4,5 1 iconsize 32 32
n1227=  did -i $dname 1,2,3,4,5 1 iconspacing 75 75
n1228=  did -i $dname 1 1 bmpsize 32 32
n1229=  did -i $dname 1 1 setimage +nh icon large mirc.ico
n1230=  did -i $dname 1 1 setimage +nh icon large icons\set.ico
n1231=  did -i $dname 1 1 setimage +nh icon large icons\design.ico
n1232=  did -i $dname 1 1 setimage +nh icon large icons\programs.ico
n1233=  did -i $dname 1 1 setimage +nh icon large icons\browser.ico
n1234=  did -a $dname 1 1 IRC $+ $chr(9) $+ IRC
n1235=  did -a $dname 1 2 Инструменты $+ $chr(9) $+ Инструменты
n1236=  did -a $dname 1 3 Оформление $+ $chr(9) $+ Оформление
n1237=  did -a $dname 1 4 Программы $+ $chr(9) $+ Программы
n1238=  did -a $dname 1 5 Разное $+ $chr(9) $+ Разное
n1239=
n1240=  ;IRC
n1241=
n1242=  did -i $dname 2 1 seticon list icons\help.ico
n1243=  did -i $dname 2 1 seticon list icons\ajoin.ico
n1244=  did -i $dname 2 1 seticon list icons\autoconn.ico
n1245=  did -i $dname 2 1 seticon list icons\autoid.ico
n1246=  did -i $dname 2 1 seticon list script\Qblock\icons\qblock.ico
n1247=  did -i $dname 2 1 seticon list icons\access.ico
n1248=  did -i $dname 2 1 seticon list icons\notice.ico
n1249=  did -i $dname 2 1 seticon list icons\memos.ico
n1250=  did -i $dname 2 1 seticon list icons\ctcp.ico
n1251=  did -i $dname 2 1 seticon list icons\colors.ico
n1252=  did -i $dname 2 1 seticon list icons\nickgen.ico
n1253=  did -i $dname 2 1 seticon list icons\avtootvet.ico
n1254=  did -i $dname 2 1 seticon list icons\videl.ico
n1255=  did -i $dname 2 1 seticon list icons\white.ico
n1256=  did -i $dname 2 1 seticon list icons\black.ico
n1257=  did -a $dname 2 +b 1 Помощь новичкам
n1258=  did -a $dname 2 +b 2 Автозаход
n1259=  did -a $dname 2 +b 3 Авто соединение
n1260=  did -a $dname 2 +b 4 Авто идентификация
n1261=  did -a $dname 2 +b 5 IRC Сервисы
n1262=  did -a $dname 2 +b 6 Прописчик ников
n1263=  did -a $dname 2 +b 7 Нотис закр. привата
n1264=  did -a $dname 2 +b 8 Мемо
n1265=  did -a $dname 2 +b 9 CTCP Ответы
n1266=  did -a $dname 2 +b 10 Колорайзер
n1267=  did -a $dname 2 +b 11 Генератор ников
n1268=  did -a $dname 2 +b 12 Авто ответчик
n1269=  did -a $dname 2 +b 13 Выделение ника
n1270=  did -a $dname 2 +b 14 Белый список 
n1271=  did -a $dname 2 +b 15 Чёрный список
n1272=
n1273=  ;Инструменты
n1274=
n1275=  did -i $dname 3 1 seticon list icons\security.ico
n1276=  did -i $dname 3 1 seticon list script\Qblock\icons\qblock.ico
n1277=  did -i $dname 3 1 seticon list icons\away.ico
n1278=  did -i $dname 3 1 seticon list icons\clones.ico
n1279=  did -i $dname 3 1 seticon list icons\clones.ico
n1280=  did -i $dname 3 1 seticon list icons\fkeys.ico
n1281=  did -i $dname 3 1 seticon list icons\winamp.ico
n1282=  did -i $dname 3 1 seticon list icons\sys.ico
n1283=  did -i $dname 3 1 seticon list icons\calc.ico
n1284=  did -i $dname 3 1 seticon list icons\charlist.ico
n1285=  did -i $dname 3 1 seticon list icons\anketa.ico
n1286=  did -i $dname 3 1 seticon list icons\logs.ico
n1287=  did -a $dname 3 +b 1 Защита
n1288=  did -a $dname 3 +b 2 Фильтр сообщений
n1289=  did -a $dname 3 +b 3 Система Away 
n1290=  did -a $dname 3 +b 4 Клоносканер
n1291=  did -a $dname 3 +b 5 Away сканер
n1292=  did -a $dname 3 +b 6 Функц. клавиши
n1293=  did -a $dname 3 +b 7 Winamp контроллер
n1294=  did -a $dname 3 +b 8 Инфо о системе
n1295=  did -a $dname 3 +b 9 Подсчет времени
n1296=  did -a $dname 3 +b 10 Таблица сиволов
n1297=  did -a $dname 3 +b 11 Анкета
n1298=  did -a $dname 3 +b 12 Просмотрщик логов
n1299=
n1300=  ;Оформление
n1301=
n1302=  did -i $dname 4 1 seticon list icons\skins.ico
n1303=  did -i $dname 4 1 seticon list icons\nickcolors.ico
n1304=  did -i $dname 4 1 seticon list icons\color.ico
n1305=  did -i $dname 4 1 seticon list icons\fonts.ico
n1306=  did -i $dname 4 1 seticon list icons\cpanel.ico
n1307=  did -a $dname 4 +b 1 Менеджер скинов
n1308=  did -a $dname 4 +b 2 Подсветка ников
n1309=  did -a $dname 4 +b 3 Цвета
n1310=  did -a $dname 4 +b 4 Шрифты
n1311=  did -a $dname 4 +b 5 Верхняя панель
n1312=
n1313=  ;Программы
n1314=
n1315=  did -i $dname 6 1 seticon list icons\browser.ico
n1316=  did -i $dname 6 1 seticon list icons\antivirus.ico
n1317=  did -i $dname 6 1 seticon list icons\alarm.ico
n1318=  did -i $dname 6 1 seticon list icons\search.ico
n1319=  did -i $dname 6 1 seticon list icons\search.ico
n1320=  did -i $dname 6 1 seticon list icons\winamp.ico
n1321=  did -i $dname 6 1 seticon list icons\paint.ico
n1322=  did -i $dname 6 1 seticon list icons\notepad.ico
n1323=  did -i $dname 6 1 seticon list icons\osk.ico
n1324=  did -a $dname 6 +b 1 Браузер
n1325=  did -a $dname 6 +b 2 Антивирус
n1326=  did -a $dname 6 +b 3 Будильник
n1327=  did -a $dname 6 +b 5 Поиск
n1328=  did -a $dname 6 +b 6 Winamp
n1329=  did -a $dname 6 +b 7 Paint
n1330=  did -a $dname 6 +b 8 Блокнот
n1331=  did -a $dname 6 +b 9 Виртуальная клавиатура
n1332=
n1333=  ;Разное
n1334=
n1335=  did -i $dname 8 1 seticon list icons\faq.ico
n1336=  did -i $dname 8 1 seticon list icons\reg.ico
n1337=  did -i $dname 8 1 seticon list icons\web.ico
n1338=  did -i $dname 8 1 seticon list icons\forum.ico
n1339=  did -i $dname 8 1 seticon list icons\mail.ico
n1340=  did -i $dname 8 1 seticon list icons\about.ico
n1341=  did -a $dname 8 +b 1 Помощь по mIRC
n1342=  did -a $dname 8 +b 2 Регистрация mIRC
n1343=  did -a $dname 8 +b 3 Сайт NeOn Script
n1344=  did -a $dname 8 +b 4 Форум NeOn Script
n1345=  did -a $dname 8 +b 5 Написать создателю
n1346=  did -a $dname 8 +b 6 О Скрипте
n1347=
n1348=}
n1349=
n1350=on *:dialog:cpanel:sclick:1: {
n1351=  if ($did(1).sel == 2) { did -v $dname 2 | did -h $dname 3,4,6,8 }
n1352=  if ($did(1).sel == 3) { did -v $dname 3 | did -h $dname 6,2,4,8 }
n1353=  if ($did(1).sel == 4) { did -v $dname 4 | did -h $dname 6,2,3,8 }
n1354=  if ($did(1).sel == 5) { did -v $dname 6 | did -h $dname 4,3,2,8 }
n1355=  if ($did(1).sel == 6) { did -v $dname 8 | did -h $dname 4,3,2,6 }
n1356=}
n1357=
n1358=on *:dialog:cpanel:dclick:2: {
n1359=  if ($did(2).sel == 2) { /irc1 | halt }
n1360=  if ($did(2).sel == 3) { /autojoin | halt }
n1361=  if ($did(2).sel == 4) { /autoconnect | halt }
n1362=  if ($did(2).sel == 5) { /autoid | halt }
n1363=  if ($did(2).sel == 6) { /service | halt }
n1364=  if ($did(2).sel == 7) { /nickaccess | halt }
n1365=  if ($did(2).sel == 8) { /cnotice | halt }
n1366=  if ($did(2).sel == 9) { /memos | halt }
n1367=  if ($did(2).sel == 10) { /ctcpoptions | halt }
n1368=  if ($did(2).sel == 11) { /colortb | halt }
n1369=  if ($did(2).sel == 12) { /nickgen | halt }
n1370=  if ($did(2).sel == 13) { /avtootvetchik | halt }
n1371=  if ($did(2).sel == 14) { /videl | halt }
n1372=  if ($did(2).sel == 15) { /whitelist | halt }
n1373=  if ($did(2).sel == 16) { /blacklist | halt }
n1374=}
n1375=
n1376=on *:dialog:cpanel:dclick:3: {
n1377=  if ($did(3).sel == 2) { /setup | halt }
n1378=  if ($did(3).sel == 3) { /blocker | halt }
n1379=  if ($did(3).sel == 4) { /awayer | halt }
n1380=  if ($did(3).sel == 5) { /clones | halt }
n1381=  if ($did(3).sel == 6) { /scanaway | halt }
n1382=  if ($did(3).sel == 7) { /fkeys | halt }
n1383=  if ($did(3).sel == 8) { /winampcontrol | halt }
n1384=  if ($did(3).sel == 9) { /systeminfo | halt }
n1385=  if ($did(3).sel == 10) { /calctime | halt }
n1386=  if ($did(3).sel == 11) { /charlist | halt }
n1387=  if ($did(3).sel == 12) { /anketa | halt }
n1388=  if ($did(3).sel == 13) { /logs | halt }
n1389=}
n1390=
n1391=on *:dialog:cpanel:dclick:4: {
n1392=  if ($did(4).sel == 2) { /skins | halt }
n1393=  if ($did(4).sel == 3) { /nickcolors | halt }
n1394=  if ($did(4).sel == 4) { /dll libraries\band.dll menu 133 | halt }
n1395=  if ($did(4).sel == 5) { /dll libraries\band.dll menu 134 | halt }
n1396=  if ($did(4).sel == 6) { /tb | halt }
n1397=}
n1398=
n1399=on *:dialog:cpanel:dclick:6: {
n1400=  if ($did(6).sel == 2) { /browser | halt }
n1401=  if ($did(6).sel == 3) { /antivirus | halt }
n1402=  if ($did(6).sel == 4) { /alarm | halt }
n1403=  if ($did(6).sel == 5) { /searchfind | halt }
n1404=  if ($did(6).sel == 6) { /ampplay | halt }
n1405=  if ($did(6).sel == 7) { /run mspaint.exe | halt }
n1406=  if ($did(6).sel == 8) { /run notepad.exe | halt }
n1407=  if ($did(6).sel == 9) { /run osk.exe | halt }
n1408=}
n1409=
n1410=on *:dialog:cpanel:dclick:8: {
n1411=  if ($did(8).sel == 2) { /url -an http://www.irchelp.org | halt }
n1412=  if ($did(8).sel == 3) { /run files\registration\reg.exe | halt }
n1413=  if ($did(8).sel == 4) { /url -an http://neon-ms.info | halt }
n1414=  if ($did(8).sel == 5) { /url -an http://neon-ms.info/forum/index.php | halt }
n1415=  if ($did(8).sel == 6) { /url -an mailto:Lythium@i-neon.lv | halt }
n1416=  if ($did(8).sel == 7) { /about | halt }
n1417=}
n1418=
n1419=;###################################################################################################################
n1420=;#########################################  MASS INVITE  #########################################################
n1421=;###################################################################################################################
n1422=
n1423=alias massinvite {
n1424=  var %i 1
n1425=  var %massinvitechan $chan.test($$?="Введите канал, на который нужно пригласить всех:")
n1426=  :next
n1427=  set %nick $nick(#,%i)
n1428=  if (%nick == $null) goto done
n1429=  if (%nick != $me) { /invite %nick %massinvitechan }
n1430=  inc %i
n1431=  goto next
n1432=  :done
n1433=}
n1434=;#####
n1435=;##### ВЫДЕЛЕНИЕ НИКА 
n1436=;#####
n1437=alias videls { editbox -afp %videl1 $$1 %videl2 $editbox($active) }
n1438=
n1439=alias videl {   
n1440=  if $dialog(videl) = $null { dialog -m videl videl }
n1441=  else halt
n1442=}
n1443=
n1444=dialog videl {
n1445=  title "Выделение ника"
n1446=  size -1 -1 155 74
n1447=  option dbu
n1448=  icon mirc.ico, 0
n1449=  edit %videl1, 1, 9 42 44 11, center
n1450=  text "НИК", 2, 54 43 21 9, center
n1451=  edit %videl2, 3, 76 42 44 11, center
n1452=  box "Настройка выделения ника", 4, 2 1 152 56
n1453=  text "Здесь можно настроить выделение ника из списка ников. Настраивать можно с помощью номеров цветов, вызыываемые клавишей Ctrl+K. ", 5, 5 12 146 26
n1454=  text "ВАШ ТЕКСТ", 7, 121 43 30 8
n1455=  button "ОК", 6, 59 59 37 12, ok
n1456=}
n1457=
n1458=on *:dialog:videl:sclick:6: {
n1459=  /set %videl1 $did(1).text
n1460=  /set %videl2 $did(3).text
n1461=}
n1462=
n1463=;###########################################################
n1464=;################## Кик-ловушка ################################
n1465=;############################################################
n1466=
n1467=alias lovushka { 
n1468=  /kick # $$1 $read(messages\kick.txt) | inc %kicks | /invite $$1 #
n1469=  on *:JOIN:#:{ 
n1470=    if (%lova == on && $nick == $$1) {
n1471=      /kick # $$1 $read(messages\kick.txt) | inc %kicks | /invite $$1 #
n1472=    }
n1473=  }
n1474=}
n1475=
n1476=;###########
