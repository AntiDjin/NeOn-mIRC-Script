[script]
n0=;########################################### SKINS ####################################################################  
n1=;###################  Если ты захотел спиздить наш скрипт, то мы тебя сука найдем и ты получишь пизды  ###########################################
n2=;###################################################################################################################
n3=
n4=alias skins { if !$dialog(skins) { dialog -m skins skins } } 
n5=
n6=dialog skins {
n7=  icon icons\skins.ico
n8=  title "Менеджер скинов"
n9=  size -1 -1 530 158
n10=  list 100,   5 5 170 150
n11=  icon 200, 355 5 170 146 , icons\main.ico , top 
n12=  button "Применить",         10, 180 5 170 30
n13=  button "Больше скинов в интернете",     20, 180 40 170 30
n14=  button "Хорошо",            40, 180 75 170 30,cancel
n15=  check "Показывать информацию", 30, 185 110 170 20
n16=  check "Очищать все окна", 44, 185 130 170 20
n17=}
n18=
n19=on *:dialog:skins:init:*: {
n20=  /tip 100 Выберите нужный скин.
n21=  /tip 200 Скриншот выделенного скина.
n22=  /tip 10 Просмотреть скин.
n23=  /tip 40 Сохранить выбор и выйти.
n24=  if %skins.showinfo == yes { /did -c skins 30 }
n25=  if %skins.clear == yes { /did -c skins 44 }
n26=  %skins.totallines = $lines(skins\list.ini)
n27=  %skins.currentline = 1
n28=  /did -g skins 200 skins\none.jpg
n29=  /set %skins.selectedskin $null 
n30=  :next
n31=  /did -i skins 100 1 $read($mircdir $+ skins\list.ini,%skins.currentline)
n32=  if %skins.currentline = %skins.totallines { /did -ft $dname 10 | /halt }
n33=  %skins.currentline = %skins.currentline + 1
n34=  goto next 
n35=}
n36=
n37=on *:dialog:skins:sclick:100: {
n38=  if ($did(100).seltext = $null) { halt }
n39=  if ($isdir(skins\ $+ $did(100).seltext) == $false) { If ($input(Данного скина не существует. Удалите неверную запись в списке скинов.,-os,skins,Нету скина,text)) { halt } | halt }
n40=  /set %skins.selectedskin $did(100).seltext
n41=  /did -g skins 200 skins\ $+ %skins.selectedskin $+ \photo.jpg
n42=}
n43=
n44=on *:dialog:skins:dclick:100: {
n45=  /useskin
n46=}
n47=
n48=on *:dialog:skins:sclick:10: {
n49=  /useskin
n50=}
n51=
n52=on *:dialog:skins:sclick:20: {
n53=  /url -an http://neon-ms.info/downloads.php?cat_id=7
n54=}
n55=
n56=on *:dialog:skins:sclick:30: {
n57=  if $did(30).state = 1 { /set %skins.showinfo yes } | else { /set %skins.showinfo no }
n58=}
n59=
n60=on *:dialog:skins:sclick:44: {
n61=  if $did(44).state = 1 { /set %skins.clear yes } | else { /set %skins.clear no }
n62=}
n63=
n64=alias useskin {
n65=  if %skins.selectedskin != $null {
n66=    if $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, pictures, main) == yes { background -fe $chan(1) skins\ $+ $did(100).seltext $+ \main.jpg }
n67=    if $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, pictures, main) == yes { background -fde $query(1) skins\ $+ $did(100).seltext $+ \main.jpg }   
n68=    if $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, pictures, status) == yes { /background -sf skins\ $+ $did(100).seltext $+ \status.jpg | else /background -sfx }   
n69=    if $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, pictures, toolbar) == yes { /background -l skins\ $+ $did(100).seltext $+ \toolbar.bmp | else /background -lx }
n70=    if $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, pictures, switchbar) == yes { /background -h skins\ $+ $did(100).seltext $+ \switchbar.jpg | else /background -hx }
n71=
n72=    if $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, pictures, main) == no { /background -amx }
n73=    if $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, pictures, status) == no { /background -sx }
n74=    if $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, pictures, toolbar) == no { /background -lx }
n75=    if $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, pictures, switchbar) == no { /background -hx }
n76=
n77=    /color editbox $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, colors, editbox)
n78=    /color editbox text $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, colors, editboxtext)
n79=    /color inactive $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, colors, inactive)
n80=    /color background $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, colors, background)
n81=    /color action $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, colors, action)
n82=    /color ctcp $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, colors, ctcp)
n83=    /color highlight $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, colors, highlight)
n84=    /color info $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, colors, info)
n85=    /color info2 $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, colors, info2)
n86=    /color invite $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, colors, invite)
n87=    /color join $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, colors, join)
n88=    /color kick $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, colors, kick)
n89=    /color mode $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, colors, mode)
n90=    /color nick $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, colors, nick)
n91=    /color normal $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, colors, normal)
n92=    /color notice $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, colors, notice)
n93=    /color notify $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, colors, notify)
n94=    /color other $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, colors, other)
n95=    /color own $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, colors, own)
n96=    /color part $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, colors, part)
n97=    /color quit $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, colors, quit)
n98=    /color topic $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, colors, topic)
n99=    /color wallops $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, colors, wallops)
n100=    /color whois $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, colors, whois)
n101=    /color listbox $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, colors, listbox)
n102=    /color listbox text $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, colors, listboxtext)
n103=    /color title text $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, colors, titletext)
n104=    /color gray text $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, colors, graytext)
n105=    /set %skins.echocharcolor $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, prefix, charcolor)
n106=    /set %skins.echochar $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, prefix, char)
n107=    /set %skins.echocolor $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, prefix, echocolor)
n108=    /set %skins.skin.name $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, info, name)
n109=    /set %skins.skin.author $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, info, author)
n110=    /set %skins.skin.email $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, info, email)
n111=    /set %skins.skin.www $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, info, www)
n112=
n113=    /set %nickcolors.enabled $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, nickcolors, enabled)
n114=    /set %nickcolors.me $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, nickcolors, me)
n115=    /set %nickcolors.normal $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, nickcolors, normal)
n116=    /set %nickcolors.op $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, nickcolors, op)
n117=    /set %nickcolors.voice $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, nickcolors, voice)
n118=    /set %nickcolors.notify $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, nickcolors, notify)
n119=    /set %nickcolors.halfop $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, nickcolors, halfop)
n120=    /set %nickcolors.admin $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, nickcolors, admin)
n121=    /set %nickcolors.founder $readini(skins\ $+ %skins.selectedskin $+ \skin.ini, nickcolors, founder)
n122=
n123=    /set %skins.prefix %skins.echocharcolor -as %skins.echochar $+  $+ %skins.echocolor
n124=    /set %skins.prefixs %skins.echocharcolor -s %skins.echochar $+  $+ %skins.echocolor
n125=    /set %skins.prefixa %skins.echocharcolor -a %skins.echochar $+  $+ %skins.echocolor  
n126=    /set %skins.main skins\ $+ $did(100).seltext $+ \status.jpg
n127=
n128=    if %skins.clear == yes { clearall }
n129=    if ($active ischan) { nickcolors.makecolor $active }
n130=    if %skins.showinfo == yes {
n131=      /echo %skins.prefix Скин: %skins.skin.name 
n132=      /echo %skins.prefix Автор: %skins.skin.author 
n133=      /echo %skins.prefix Е-почта: %skins.skin.email 
n134=      /echo %skins.prefix Сайт: %skins.skin.www 
n135=    }
n136=    /tbreset
n137=  }
n138=}
n139=
n140=;###################################################################################################################
n141=;#########################################  ALARM  #################################################################
n142=;###################################################################################################################
n143=
n144=alias alarm {
n145=  if $dialog(alarm) = $null { dialog -m alarm alarm }
n146=  else halt
n147=}
n148=
n149=dialog alarm {
n150=  icon icons\alarm.ico
n151=  title "Будильник"
n152=  size -1 -1 110 130
n153=  text "Введите время:" 112, 14 5 120 116
n154=  edit "00" 10, 19 20 30 18, center limit 2
n155=  text ":" 276, 51 20 5 20,center
n156=  edit "00" 20, 55 20 30 18,center limit 2
n157=  button "Установить" 100, 5 40 100 26
n158=  button "Снять"      200, 5 70 100 26,cancel
n159=  button "Хорошо"     300, 5 100 100 26, cancel
n160=}
n161=
n162=on *:dialog:alarm:init:*: {
n163=  /tip 10 Введите часы.
n164=  /tip 20 Ваедите минуты.
n165=  /tip 100 Установить будильник на заданное время.
n166=  /tip 200 Выключить установленный будильник.
n167=  /tip 300 Выход.
n168=  /did -o alarm 10 1 $asctime(HH)
n169=  /did -o alarm 20 1 $asctime(nn)
n170=  ;did -ft $dname 100
n171=}
n172=
n173=on *:dialog:alarm:sclick:100: {
n174=  /set %alarm.hours $did(10).text
n175=  /set %alarm.minutes $did(20).text
n176=  /set %alarm.time %alarm.hours $+ : $+ %alarm.minutes
n177=  /timeralarm %alarm.time 1 1 /dll libraries\game_tools.dll splay  sounds\alarm.wav
n178=  /echo %skins.prefix Будильник установлен на %alarm.time
n179=}
n180=
n181=on *:dialog:alarm:sclick:200: {
n182=  /timeralarm off
n183=  /echo %skins.prefix Будильник выключен
n184=}
n185=
n186=;###################################################################################################################
n187=;#########################################  CTCP  ##################################################################
n188=;###################################################################################################################
n189=
n190=
n191=alias ctcpoptions {
n192=  if $dialog(ctcpoptions) = $null { dialog -m ctcpoptions ctcpoptions }
n193=  else halt
n194=}
n195=
n196=dialog ctcpoptions {
n197=  title "СТСР ответы"
n198=  size -1 -1 205 270
n199=  option pixels
n200=  icon icons\ctcp.ico, 0
n201=  radio "Включены", 1, 15 3 80 16
n202=  radio "Выключены", 2, 105 3 80 16
n203=  box "Введите ответ на запрос FINGER:", 34, 5 19 195 60
n204=  edit "", 10, 10 35 185 20, autohs
n205=  check "Отвечать на запрос FINGER.", 100, 15 57 180 20
n206=  box "Введите ответ на запрос TIME:", 31, 5 89 195 60
n207=  edit "", 20, 10 105 185 20, autohs
n208=  check "Отвечать на запрос TIME.", 200, 15 127 180 20
n209=  box "Введите ответ на запрос MAIL:", 32, 5 159 195 60
n210=  edit "", 30, 10 175 185 20, autohs
n211=  check "Отвечать на запрос MAIL.", 300, 15 197 180 20
n212=  button "Хорошо", 1000, 5 229 95 30, cancel
n213=  button "Отмена ", 2000, 105 228 95 30, ok
n214=}
n215=
n216=on *:dialog:ctcpoptions:sclick:1000: {
n217=  if ($did(ctcpoptions,100).state = 1) { /set %ctcp.finger.enable on }
n218=  if ($did(ctcpoptions,200).state = 1) { /set %ctcp.time.enable on }
n219=  if ($did(ctcpoptions,300).state = 1) { /set %ctcp.mail.enable on }
n220=  if ($did(ctcpoptions,100).state = 0) { /set %ctcp.finger.enable off }
n221=  if ($did(ctcpoptions,200).state = 0) { /set %ctcp.time.enable off }
n222=  if ($did(ctcpoptions,300).state = 0) { /set %ctcp.mail.enable off }
n223=  if ($did(ctcpoptions,1).state = 1) { /set %ctcp.enable on }
n224=  if ($did(ctcpoptions,2).state = 1) { /set %ctcp.enable off }
n225=  /set %ctcp.finger.text $did(ctcpoptions,10) 
n226=  /set %ctcp.time.text $did(ctcpoptions,20) 
n227=  /set %ctcp.mail.text $did(ctcpoptions,30) 
n228=}
n229=
n230=on *:dialog:ctcpoptions:init:*: {
n231=  /tip 1 Отвечать на запросы СТСР.
n232=  /tip 2 Не отвечать на запросы СТСР.
n233=  if %ctcp.enable = on { did -c ctcpoptions 1 }
n234=  if %ctcp.enable = off { did -c ctcpoptions 2 }
n235=  did -o ctcpoptions 10 1 %ctcp.finger.text
n236=  did -o ctcpoptions 20 1 %ctcp.time.text
n237=  did -o ctcpoptions 30 1 %ctcp.mail.text
n238=  if %ctcp.finger.enable = on { did -c ctcpoptions 100 }
n239=  if %ctcp.time.enable = on { did -c ctcpoptions 200 }
n240=  if %ctcp.mail.enable = on { did -c ctcpoptions 300 }
n241=  ;did -ft $dname 1000
n242=}
n243=
n244=ctcp *:*:*: {
n245=  ;haltdef
n246=  IF ($1 == MOTFV) || ($1 == VERSION) { 
n247=    IF (%ctcp.version.enable = on) { 
n248=      .ctcpreply $nick VERSION %ctcp.version.text | echo %skins.prefixa $nick смотрит твою версию
n249=      /halt
n250=    }
n251=    if (%ctcp.version.random == on) { 
n252=      .ctcpreply $nick VERSION $read(messages\ctcp.txt) | echo %skins.prefixa $nick смотрит твою версию
n253=      /halt
n254=    }
n255=  }
n256=  ELSEIF (%ctcp.enable = on) {
n257=    if ($1 == FINGER) {
n258=      if (%ctcp.finger.enable = on) { 
n259=        .ctcpreply $nick FINGER %ctcp.finger.text | echo %skins.prefixa $nick тыкает в тебя пальцем
n260=        /halt 
n261=      }
n262=    }
n263=    ELSEIF ($1 == TIME) { 
n264=      if (%ctcp.time.enable = on) { 
n265=        .ctcpreply $nick TIME %ctcp.time.text | echo %skins.prefixa $nick смотрит на твои часы
n266=        /halt 
n267=      }
n268=    }
n269=    ELSEIF ($1 == MAIL) {
n270=      IF (%ctcp.mail.enable = on) { 
n271=        .ctcpreply $nick MAIL %ctcp.mail.text | echo %skins.prefixa $nick смотрит твой e-mail
n272=        /halt 
n273=      }
n274=    }
n275=    ELSEIF ($1 == СТАТУС) || ($1 == STATUS) {
n276=      .ctcpreply $nick СТАТУС %status.text
n277=      /halt
n278=    }
n279=    ELSEIF ($1 == POL) { 
n280=      if (%slap.sex = male) {
n281=        .ctcpreply $nick POL 12Я парень :-) | echo %skins.prefixa $nick смотрит твой пол
n282=        /halt 
n283=      }
n284=      if (%slap.sex = female) {
n285=        .ctcpreply $nick POL 4Я девушка :-) | echo %skins.prefixa $nick смотрит твой пол
n286=        /halt 
n287=      }
n288=    }     
n289=    ELSEIF ($1 == ANKETA) { 
n290=      if (%anketa == 0) { 
n291=        .ctcpreply $nick ANKETA Анкета не заполнена | echo %skins.prefixa $nick хочет посмотреть твою анкету, но она не заполнена :(
n292=        /halt
n293=      }
n294=      if (%anketa == 1) { 
n295=        if (%name, %let, %data, %mesto, %telefon, %site, %obo != $null) { .ctcpreply $nick ANKETA 14» 2Меня зовут10 %name 14» 2Мне10 %let 14» 2Дата рождения:10 %data 14» 2Живу я в:10 %mesto 14» 2Мой телефон:10 %telefon 14» 2Мой любимый веб-сайт:10 %site 14» 2Обо мне:10 %obo } 
n296=        echo %skins.prefixa $nick смотрит твою анкету    
n297=        /halt
n298=      }
n299=    }
n300=  }
n301=}
n302=
n303=alias verrmake {
n304=  %vp = 1
n305=  %vv = 0
n306=  :next
n307=  /echo $1 $+ $chr(32) $+ %vp $+ . $+ %vv $+ $chr(32) $+ $2-
n308=  if %vp == 9 { halt } 
n309=  if %vv == 99 { %vp = $calc(%vp + 1) | %vv = 0 } 
n310=  if %vp == 9 { /halt } 
n311=  %vv = $calc(%vv + 1)
n312=  goto next
n313=}
n314=
n315=
n316=;###################################################################################################################
n317=;#########################################  SYSTEM INFO  ###########################################################
n318=;###################################################################################################################
n319=
n320=alias systeminfo {
n321=  if $dialog(systeminfo) = $null { dialog -m systeminfo systeminfo }
n322=  else halt
n323=}
n324=
n325=dialog systeminfo {
n326=  title "Информация о системе"
n327=  size -1 -1 399 272
n328=  option pixels
n329=  icon icons\sys.ico, 0
n330=  text "Платформа:", 345, 10 12 100 20
n331=  edit "", 100, 110 10 280 20, autohs
n332=  text "Процессор:", 315, 10 37 100 20
n333=  edit "", 200, 110 35 280 20, autohs
n334=  text "Память:", 375, 10 62 100 20
n335=  edit "", 300, 110 60 280 20, autohs
n336=  text "Винчестер:", 325, 10 87 100 20
n337=  edit "", 400, 110 85 280 20, autohs
n338=  text "Видеокарта:", 425, 10 112 100 20
n339=  edit "", 700, 110 110 280 20, autohs
n340=  text "Экран:", 379, 10 137 100 20
n341=  edit "", 500, 110 135 280 20, autohs
n342=  text "Сетевая карта:", 765, 10 162 100 20
n343=  edit "", 600, 110 160 280 20, autohs
n344=  text "Звук:", 767, 10 187 100 20
n345=  edit "", 900, 110 185 280 20, autohs
n346=  text "BIOS:", 329, 10 212 100 20
n347=  edit "", 800, 110 210 280 20, autohs
n348=  button "Хорошо", 1000, 280 237 110 30, cancel
n349=  button "Сказать инфо в чат", 1001, 154 237 110 30
n350=}
n351=
n352=on *:dialog:systeminfo:init:*: {
n353=  /tip 100 Информация о вашем виндоусе.
n354=  /tip 200 Ваш процессор.
n355=  /tip 300 Информация о оперативной памяти.
n356=  /tip 400 Инфо о жёстких дисках.
n357=  /tip 500 Ваши экранные параметры.
n358=  /tip 600 Сетевая карта.
n359=  /tip 900 Ваша звуковая карта.
n360=  /tip 91 Информация о вашем BIOS.
n361=  /tip 700 Инфо о видеочипе.
n362=  /tip 1000 Выход.
n363=  /did -mo systeminfo 900 1 $dll(libraries\darkenginepro.dll,soundcard,0) 
n364=  /did -mo systeminfo 100 1 $dll(libraries\moo.dll,osinfo,0) 
n365=  /did -mo systeminfo 200 1 $replace($dll(libraries\moo.dll,cpuinfo,0),1-AMD XP,AMD Athlon XP,load,загрузка) 
n366=  /did -mo systeminfo 300 1 $replace($dll(libraries\moo.dll,meminfo,0),Usage,Используется)
n367=  /did -mo systeminfo 400 1 $replace($dll(libraries\moo.dll,diskcapacity,0),Free,свободно,Total,всего)
n368=  /did -mo systeminfo 500 1 $replace($dll(libraries\moo.dll,screeninfo,0),bit,бит,hz,Гц)
n369=  /did -mo systeminfo 600 1 $dll(libraries\moo.dll,interfaceinfo,0)
n370=  /did -mo systeminfo 700 1 $dll(libraries\moo.dll,gfxinfo,0)
n371=  /did -mo systeminfo 800 1 $dll(libraries\darkenginepro.dll,biosname,0)
n372=  if $dll(libraries\moo.dll,interfaceinfo,0) == $null { /did -mo systeminfo 600 1 Сетевая карта не установлена }
n373=}
n374=
n375=on *:dialog:systeminfo:sclick:1001: {
n376=  if $active != status window {
n377=    /msg $active 12Платформа:10 $dll(libraries\moo.dll,osinfo,0) 
n378=    /msg $active 12Процессор:10 $replace($dll(libraries\moo.dll,cpuinfo,0),1-AMD XP,AMD Athlon XP,load,загрузка) 
n379=    /msg $active 12Память:10 $replace($dll(libraries\moo.dll,meminfo,0),Usage,Используется)
n380=    /msg $active 12Винчестер:10 $replace($dll(libraries\moo.dll,diskcapacity,0),Free,свободно,Total,всего)
n381=    /msg $active 12Видеокарта:10 $dll(libraries\moo.dll,gfxinfo,0)
n382=    /msg $active 12Экран:10 $replace($dll(libraries\moo.dll,screeninfo,0),bit,бит,hz,Гц)
n383=    /msg $active 12Сетевая карта:10 $iif(!$dll(libraries\moo.dll,interfaceinfo,0),Сетевая карта не установлена,$dll(libraries\moo.dll,interfaceinfo,0))
n384=    /msg $active 12Звук:10 $dll(libraries\darkenginepro.dll,soundcard,0) 
n385=    /msg $active 12BIOS:10 $dll(libraries\darkenginepro.dll,biosname,0)
n386=  }
n387=}
n388=
n389=;###################################################################################################################
n390=;#########################################  ACCESS  ################################################################
n391=;###################################################################################################################
n392=
n393=alias nickaccess {
n394=  if $dialog(nickaccess) = $null { dialog -m nickaccess nickaccess }
n395=  else halt
n396=}
n397=
n398=dialog nickaccess {
n399=  icon icons\access.ico
n400=  title "Прописчик"
n401=  size -1 -1 150 185
n402=
n403=  text "Ник:"     , 345,  5 5 140 20 
n404=  edit ""         , 100,  5 20 140 20, center
n405=
n406=  text "Канал:"     , 315,  5 45 140 20 
n407=  edit ""           , 200,  5 60 140 20, center
n408=
n409=  text "Уровень:"   , 375,  5 85 140 20 
n410=  edit ""           , 300,  5 100 140 20, center
n411=
n412=  button "Прописать", 1000, 5 125 140 25
n413=  button "Выход"    , 2000, 5 155 140 25, cancel
n414=
n415=}
n416=
n417=on *:dialog:nickaccess:init:*: {
n418=  /tip 100 Кого прописать.
n419=  /tip 200 Куда прописать.
n420=  /tip 300 Как прописать.
n421=  /tip 1000 Прописать ник.
n422=  /tip 2000 Выход.
n423=  /did -o nickaccess 100 1 %nickaccess.nick
n424=  /did -o nickaccess 200 1 %nickaccess.channel
n425=  /did -o nickaccess 300 1 %nickaccess.access
n426=
n427=  ;did -ft $dname 1000
n428=}
n429=
n430=on *:dialog:nickaccess:sclick:1000: {
n431=  if $left($did(nickaccess,200),1) = $chr(35) { /set %nickaccess.channel $did(nickaccess,200) }
n432=  if $left($did(nickaccess,200),1) != $chr(35) { /set %nickaccess.channel $chr(35) $+ $did(nickaccess,200) }
n433=  /set %nickaccess.access $did(nickaccess,300)
n434=  /set %nickaccess.nick $did(nickaccess,100)
n435=  if ($status != disconnected) {
n436=    %chanserv access %nickaccess.channel add %nickaccess.nick %nickaccess.access | echo %skins.prefix Прописка ника %nickaccess.nick с доступом %nickaccess.access на канале %nickaccess.channel...
n437=  } | else { notconnected }
n438=}
n439=
n440=;###################################################################################################################
n441=;#########################################  LOGS  ##################################################################
n442=;###################################################################################################################
n443=
n444=alias logs {
n445=  if $dialog(logs) = $null { dialog -m logs logs }
n446=  else halt
n447=}
n448=
n449=dialog logs {
n450=  icon icons\logs.ico
n451=  title "Просмотрщик логов"
n452=  size -1 -1 %logs.width %logs.height
n453=  list 100, $calc($dialog($dname).cw - 180) 5 175 $calc($dialog($dname).ch - 133)
n454=
n455=  button "",  1, 5 5 600 425 
n456=  button "", 10, 5 5 100 100
n457=
n458=  button "", 6, 0 0 0 0, hide
n459=  list 5, 0 0 0 0, size
n460=
n461=  button "Удалить", 50, 610 348 175 26
n462=  button "Редактировать", 30, 610 377 175 26
n463=  button "Выход",   40, 610 406 175 26,cancel
n464=}
n465=
n466=
n467=on *:dialog:logs:sclick:6: {
n468=  dll libraries\mdx.dll MoveControl $dname 5    0 $calc($dialog($dname).ch - 20) $dialog($dname).cw 20
n469=  dll libraries\mdx.dll MoveControl $dname 6    0 $calc($dialog($dname).cw) $calc($dialog($dname).ch - 120)
n470=  dll libraries\mdx.dll MoveControl $dname 1    5 5 $calc($dialog($dname).cw - 190) $calc($dialog($dname).ch - 30) 
n471=  dll libraries\mdx.dll MoveControl $dname 100  $calc($dialog($dname).cw - 180) 5 175 $calc($dialog($dname).ch - 135)
n472=  dll libraries\mdx.dll MoveControl $dname 50   $calc($dialog($dname).cw - 180) $calc($dialog($dname).ch - 125) 175 30
n473=  dll libraries\mdx.dll MoveControl $dname 30   $calc($dialog($dname).cw - 180) $calc($dialog($dname).ch - 90) 175 30
n474=  dll libraries\mdx.dll MoveControl $dname 40   $calc($dialog($dname).cw - 180) $calc($dialog($dname).ch - 55) 175 30
n475=  /set %logs.width $dialog(logs).cw
n476=  /set %logs.height $dialog(logs).ch
n477=}
n478=
n479=on *:dialog:logs:init:*: {
n480=  /tip 100 Список всех логов.
n481=  /tip 1 Содержание лога.
n482=  /tip 50 Удалить выделенный лог.
n483=  /tip 40 Выход.
n484=  /tip 30 Открыть редактор по умолчанию и отредактировать выделенный лог.
n485=  dll libraries\mdx.dll MarkDialog logs
n486=  dll libraries\mdx.dll SetControlMDX logs 5 statusbar sizeGrip > libraries\bars.mdx
n487=  dll libraries\mdx.dll SetBorderStyle 5
n488=  dll libraries\mdx.dll SetControlMDX logs 6 positioner size > libraries\dialogs.mdx
n489=  dialog -r $dname $dname
n490=  dll libraries\mdx.dll SetControlMDX $dname 100 Listview single report rowselect > libraries\views.mdx
n491=  did -i $dname 100 1 seticon list 0 0,icons\logs.ico
n492=  did -i $dname 100 1 headerdims 170
n493=  did -i $dname 100 1 headertext Список логов:
n494=  dll libraries\mdx.dll SetControlMDX logs 10 positioner minbox > libraries\dialogs.mdx
n495=  dll libraries\mdx.dll MoveControl $dname 5    0 $calc($dialog($dname).ch - 20) $dialog($dname).cw 20
n496=  dll libraries\mdx.dll MoveControl $dname 6    0 $calc($dialog($dname).cw) $calc($dialog($dname).ch - 120)
n497=  dll libraries\mdx.dll MoveControl $dname 1    5 5 $calc($dialog($dname).cw - 190) $calc($dialog($dname).ch - 30) 
n498=  dll libraries\mdx.dll MoveControl $dname 100  $calc($dialog($dname).cw - 180) 5 175 $calc($dialog($dname).ch - 135)
n499=  dll libraries\mdx.dll MoveControl $dname 50   $calc($dialog($dname).cw - 180) $calc($dialog($dname).ch - 125) 175 30
n500=  dll libraries\mdx.dll MoveControl $dname 30   $calc($dialog($dname).cw - 180) $calc($dialog($dname).ch - 90) 175 30
n501=  dll libraries\mdx.dll MoveControl $dname 40   $calc($dialog($dname).cw - 180) $calc($dialog($dname).ch - 55) 175 30
n502=  dll libraries\mdx.dll SetControlMDX logs 1 window > libraries\dialogs.mdx  
n503=  window -h @logs
n504=  did -a logs 1 grab $window(@logs).hwnd @logs
n505=  did -r logs 100
n506=  %i = 1
n507=  %logsize = 0
n508=  %log.q = 0
n509=  %log.c = 0
n510=  :next
n511=  did -a $dname 100 0 + 1 0 0 $nopath($findfile(logs,*.log,%i))
n512=  ;/did -i logs 100 2 $nopath($findfile(logs,*.log,%i))
n513=  %logsize = %logsize + $file($findfile(logs,*.log,%i)).size
n514=  if $left($nopath($findfile(logs,*.log,%i)),1) = $chr(35) { inc %log.c }      
n515=  if $left($nopath($findfile(logs,*.log,%i)),1) != $chr(35) { inc %log.q  }
n516=  inc %i
n517=  if $findfile(logs,*.log,%i) = $null { 
n518=    if $did(100,1) = $null { %i = 0 | goto showlogs.ok } 
n519=    %i = %i - 1 
n520=    :showlogs.ok
n521=    %sizeall = %logsize / 1024
n522=    if $int(%sizeall) < 1024 { 
n523=      aline @logs Логи занимают $int(%sizeall) КБ места на диске. 
n524=      } | else { 
n525=      aline @logs Логи занимают $int($calc(%sizeall / 1024)) MБ места на диске. 
n526=    }
n527=    aline @logs =============================================
n528=    aline @logs Канальных логов: %log.c $+ .
n529=    aline @logs Приватных логов: %log.q $+ .
n530=    aline @logs =============================================
n531=    aline @logs Всего %i логов.
n532=    did -i $dname 5 1 setparts 300 600 1200
n533=    did -i $dname 5 2 Выберите лог для просмотра
n534=    if $int(%sizeall) < 1024 { 
n535=      did -i $dname 5 3 Общий размер: $int(%sizeall) КБ 
n536=      } | else { 
n537=      did -i $dname 5 3 Общий размер: $int($calc(%sizeall / 1024)) MБ 
n538=    }
n539=    did -i $dname 5 4 Всего: %i логов
n540=    ;did -ft $dname 40
n541=    halt 
n542=  }
n543=  goto next
n544=}
n545=
n546=on *:dialog:logs:sclick:30: {
n547=  if ($did(100).seltext = $null) { halt }
n548=  var %rrfile $right($did(100).seltext,$calc($len($did(100).seltext) - 12))
n549=  /run $mircdirlogs\ $+ %rrfile
n550=}
n551=
n552=on *:dialog:logs:dclick:100: {
n553=  if ($did(100).seltext = $null) { halt }
n554=  var %lfile $right($did(100).seltext,$calc($len($did(100).seltext) - 12))
n555=  clear @logs
n556=  loadbuf -ip @logs " $+ logs\ $+ %lfile $+ "
n557=  var %sizeall $calc($file(logs\ $+ %lfile).size / 1024)
n558=  if $int(%sizeall) < 1024 { 
n559=    did -i $dname 5 3 Размер файла: $int(%sizeall) КБ 
n560=    } | else { 
n561=    did -i $dname 5 3 Размер файла: $int($calc(%sizeall / 1024)) MБ 
n562=  }
n563=  did -i $dname 5 2 %lfile
n564=}
n565=
n566=on *:dialog:logs:sclick:50: {
n567=  if ($did(100).seltext = $null) { halt }
n568=  %logremfile = logs\ $+ $right($did(100).seltext,$calc($len($did(100).seltext) - 12))
n569=  dll libraries\filemanager.dll deletef %logremfile 
n570=  did -r logs 100
n571=  %i = 1
n572=  :next
n573=  /did -i logs 100 2 $nopath($findfile(logs,*.log,%i))
n574=  inc %i
n575=  if $findfile(logs,*.log,%i) = $null { halt }
n576=  goto next
n577=}
n578=
n579=;###################################################################################################################
n580=;#########################################  CLONES  ##################################################################
n581=;###################################################################################################################
n582=
n583=alias clones {
n584=  if $dialog(logs) = $null { dialog -m clones clones }
n585=  else halt
n586=}
n587=
n588=dialog clones {
n589=  icon icons\clones.ico
n590=  title "Клоносканер"
n591=  size -1 -1 250 380
n592=  list 100, 5 5 240 320, vsbar
n593=  box "Введите канал:", 10 ,5 300 240 40
n594=  edit #, 20, 10 315 230 20
n595=  button "Сканировать", 1000, 5 345 117 30, cancel
n596=  button "Выход",       2000, 128 345 117 30, cancel
n597=}
n598=
n599=on *:dialog:clones:init:*: {
n600=  /tip 20 Введите канал, который вы хотите просканировать. Вы должны находиться на этом канале.
n601=  /tip 1000 Сканировать на клонов этот канал.
n602=  /tip 2000 Выход.
n603=  /tip 100 Список клонов, отделённых линией.
n604=  dll libraries\mdx.dll MarkDialog clones
n605=  dll libraries\mdx.dll SetFont clones 100 10 0 fixedsys
n606=  did -o clones 20 1 %clones.scanchannel
n607=  if (%clones.scannow = yes) { /set %clones.scannow no | /scanit }
n608=}
n609=
n610=
n611=on *:dialog:clones:sclick:1000: {
n612=  /set %clones.scanchannel $did(20)
n613=  /scanit
n614=}
n615=
n616=alias scanit { 
n617=  if ($did(20) == $null) { halt }
n618=  if ($status == disconnected) { halt }
n619=  unset %clones.*
n620=  set %clones.channel #$did(20)
n621=  if ($me !ison %clones.channel) { halt }
n622=  set %clones.currentnicknumber $nick(%clones.channel,0)
n623=  :scan
n624=  if ($ialchan($address($nick(%clones.channel,%clones.currentnicknumber),2),%clones.channel,0) > 1) && ($address($nick(%clones.channel,%clones.currentnicknumber),2) !isin %clones.nickaddress) {
n625=    did -i clones 100 1 --------------------------------------------------------------    
n626=    set %clones.nickaddress %clones.nickaddress $address($nick(%clones.channel,%clones.currentnicknumber),2)
n627=    set %clones.clone $ialchan($address($nick(%clones.channel,%clones.currentnicknumber),2),%clones.channel,0)
n628=    :addclone
n629=    did -i clones 100 1 $ialchan($address($nick(%clones.channel,%clones.currentnicknumber),2),%clones.channel,%clones.clone).nick ($+ $address($nick(%clones.channel,%clones.currentnicknumber),2) $+ )
n630=    dec %clones.clone 1
n631=    if (%clones.clone <= 0) { 
n632=      did -i clones 100 1 -------------------------------------------------------------- 
n633=      goto nextclone 
n634=    }
n635=    goto addclone
n636=  }
n637=  :nextclone
n638=  dec %clones.currentnicknumber 1
n639=  if (%clones.currentnicknumber != 0) { 
n640=    goto scan 
n641=  }
n642=  if (%clones.nickaddress == $null) { 
n643=    unsetclones 
n644=    halt 
n645=  }
n646=  unsetclones 
n647=  halt
n648=}
n649=
n650=alias unsetclones { 
n651=  unset %clones.* 
n652=}
n653=
n654=
n655=;###################################################################################################################
n656=;#########################################  WHITE LIST  ############################################################
n657=;###################################################################################################################
n658=
n659=alias whitelist {
n660=  if $dialog(whitelist) = $null { dialog -m whitelist whitelist }
n661=  else halt
n662=}
n663=
n664=dialog whitelist {
n665=  icon icons\white.ico
n666=  title "Белый список"
n667=  size -1 -1 230 330
n668=  radio "Включен"    1,  5   5  80 20, 1 group
n669=  radio "Выключен"   2, 85   5  80 20, 1
n670=  list 100, 5 25 150 200
n671=  button "Добавить",10,160 25 65 30
n672=  button "Удалить", 20,160 60 65 30
n673=  button "Очистить",30,160 95 65 30
n674=  box "При появлении ника из белого списка:" , 537, 5 215 220 75
n675=  radio "Дать ему войс",          40, 10 230 140 20, 1 group
n676=  radio "Дать ему оп",            50, 10 250 140 20, 1
n677=  radio "Прописать его",    60, 10 270 140 18, 1
n678=  button "Хорошо",200,5 295 220 30, cancel
n679=}
n680=
n681=on *:dialog:whitelist:init:*: {
n682=  /tip 1 Включить белый список.
n683=  /tip 2 Выключить белый список.
n684=  /tip 100 Список ников в белом списке.
n685=  /tip 10 Добавить ник в белый список.
n686=  /tip 20 Удалить выделенный ник из белого списка.
n687=  /tip 30 Удалить все ники из белого списка.
n688=  /tip 40 Если на ник из белого списка зайдёт на канал, на котором находитесь вы, скрипт автоматически даст войс этому нику.
n689=  /tip 50 Если на ник из белого списка зайдёт на канал, на котором находитесь вы, скрипт автоматически даст оп этому нику.
n690=  /tip 60 Если на ник из белого списка зайдёт на канал, на котором находитесь вы, скрипт автоматически пропишет этот ник на канале.
n691=  /tip 200 Сохранение настроек и выход.  
n692=  if (%whitelist == on) { did -c whitelist 1 }
n693=  if (%whitelist == off) { did -c whitelist 2 }
n694=  if (%whitelist.action == voice) { did -c whitelist 40 }
n695=  if (%whitelist.action == op) { did -c whitelist 50 }
n696=  if (%whitelist.action == add) { did -c whitelist 60 }
n697=  ;did -ft $dname 10
n698=  set %whitelist.totalnicks 0
n699=  if ( %whitelist.nicks != $null ) {   
n700=    set %whitelist.currentnick $count(%whitelist.nicks,$chr(44)) + 1
n701=    :next
n702=    inc %whitelist.totalnicks
n703=    did -a whitelist 100 $gettok(%whitelist.nicks,%whitelist.totalnicks,44)
n704=    if ( %whitelist.totalnicks == %whitelist.currentnick ) {
n705=      /halt 
n706=    }
n707=    goto next
n708=  }
n709=}
n710=
n711=on *:dialog:whitelist:sclick:200: {
n712=  if ($did(whitelist ,1).state == 1) { /set %whitelist on }
n713=  if ($did(whitelist ,2).state == 1) { /set %whitelist off }
n714=  if ($did(whitelist ,40).state == 1) { /set %whitelist.action voice }
n715=  if ($did(whitelist ,50).state == 1) { /set %whitelist.action op }
n716=  if ($did(whitelist ,60).state == 1) { /set %whitelist.action add }
n717=}
n718=
n719=on 1:dialog:whitelist:sclick:10: {
n720=  /did -i whitelist 100 1 $$?="Введите ник, который нужно поместить в белый список:"
n721=  /set %whitelist.nicks $didtok(whitelist,100,C)
n722=}
n723=
n724=on 1:dialog:whitelist:sclick:20: {
n725=  if ($did(100).seltext = $null) { halt }
n726=  /set %whitelist.nicks $didtok(whitelist,100,C)
n727=  if (%whitelist.selnick != $null) && (%whitelist.nicks != $null) { /did -d whitelist 100 $findtok(%whitelist.nicks,%whitelist.selnick,1,44) }
n728=  /set %whitelist.nicks $didtok(whitelist,100,C)
n729=  /set %whitelist.selnick $null
n730=}
n731=
n732=on 1:dialog:whitelist:sclick:30: {
n733=  /did -r whitelist 100 
n734=  /set %whitelist.nicks $didtok(whitelist,100,C) 
n735=}
n736=
n737=on *:dialog:whitelist:sclick:100: {
n738=  /set %whitelist.selnick $did(100).seltext 
n739=  /set %whitelist.nicks $didtok(whitelist,100,C)
n740=}
n741=
n742=on *:dialog:whitelist:close:*: {
n743=  /unset %whitelist.totalnicks 
n744=  /unset %whitelist.currentnick 
n745=  /unset %whitelist.selnick 
n746=}
n747=
n748=;###################################################################################################################
n749=;#########################################  BLACK LIST  ############################################################
n750=;###################################################################################################################
n751=
n752=
n753=alias blacklist {
n754=  if $dialog(blacklist) = $null { dialog -m blacklist blacklist }
n755=  else halt
n756=}
n757=
n758=dialog blacklist {
n759=  icon icons\black.ico
n760=  title "Чёрный список"
n761=  size -1 -1 230 350
n762=  radio "Включен"    1,  5   5  80 20, 1 group
n763=  radio "Выключен"   2, 85   5  80 20, 1
n764=  list 100, 5 25 150 200
n765=  button "Добавить",10,160 25 65 30
n766=  button "Удалить", 20,160 60 65 30
n767=  button "Очистить",30,160 95 65 30
n768=  box "При появлении ника из чёрного списка:" , 537, 5 215 220 95
n769=  radio "Снять у него войс",          40, 10 230 140 20, 1 group
n770=  radio "Снять у него оп",            50, 10 250 140 20, 1
n771=  radio "Кикнуть его с канала",    60, 10 270 140 20, 1
n772=  radio "Поставить ему бан",       70, 10 290 140 18, 1
n773=  button "Хорошо",200,5 315 220 30, cancel
n774=}
n775=
n776=on *:dialog:blacklist:sclick:200: {
n777=  if ($did(blacklist ,1).state == 1) { /set %blacklist on }
n778=  if ($did(blacklist ,2).state == 1) { /set %blacklist off }
n779=  if ($did(blacklist ,40).state == 1) { /set %blacklist.action getvoice }
n780=  if ($did(blacklist ,50).state == 1) { /set %blacklist.action getop }
n781=  if ($did(blacklist ,60).state == 1) { /set %blacklist.action kick }
n782=  if ($did(blacklist ,70).state == 1) { /set %blacklist.action ban }
n783=}
n784=
n785=on 1:dialog:blacklist:sclick:10: {
n786=  /did -i blacklist 100 1 $$?="Введите ник, который нужно поместить в чёрный список:"
n787=  /set %blacklist.nicks $didtok(blacklist,100,C)
n788=}
n789=
n790=on 1:dialog:blacklist:sclick:20: {
n791=  if ($did(100).seltext = $null) { halt }
n792=  /set %blacklist.nicks $didtok(blacklist,100,C)
n793=  if (%blacklist.selnick != $null) && (%blacklist.nicks != $null) { /did -d blacklist 100 $findtok(%blacklist.nicks,%blacklist.selnick,1,44) }
n794=  /set %blacklist.nicks $didtok(blacklist,100,C)
n795=  /set %blacklist.selnick $null
n796=}
n797=
n798=on 1:dialog:blacklist:sclick:30: {
n799=  /did -r blacklist 100 
n800=  /set %blacklist.nicks $didtok(blacklist,100,C) 
n801=}
n802=
n803=on *:dialog:blacklist:sclick:100: {
n804=  /set %blacklist.selnick $did(100).seltext 
n805=  /set %blacklist.nicks $didtok(blacklist,100,C)
n806=}
n807=
n808=on *:dialog:blacklist:init:*: {
n809=  /tip 1 Включить чёрный список.
n810=  /tip 2 Выключить чёрный список.
n811=  /tip 100 Список ников в чёрного списке.
n812=  /tip 10 Добавить ник в чёрный список.
n813=  /tip 20 Удалить выделенный ник из чёрного списка.
n814=  /tip 30 Удалить все ники из чёрного списка.
n815=  /tip 40 Если на ник из чёрного списка зайдёт на канал, на котором находитесь вы, скрипт автоматически снимет войс у этого ника.
n816=  /tip 50 Если на ник из чёрного списка зайдёт на канал, на котором находитесь вы, скрипт автоматически снимет оп у этого ника.
n817=  /tip 60 Если на ник из чёрного списка зайдёт на канал, на котором находитесь вы, скрипт автоматически кикнет этот ник с канале.
n818=  /tip 70 Если на ник из чёрного списка зайдёт на канал, на котором находитесь вы, скрипт автоматически забанит этот ник. 
n819=  /tip 200 Сохранение настроек и выход.  
n820=  if (%blacklist == on) { did -c blacklist 1 }
n821=  if (%blacklist == off) { did -c blacklist 2 }
n822=  if (%blacklist.action == getvoice) { did -c blacklist 40 }
n823=  if (%blacklist.action == getop) { did -c blacklist 50 }
n824=  if (%blacklist.action == kick) { did -c blacklist 60 }
n825=  if (%blacklist.action == ban) { did -c blacklist 70 }
n826=  ;did -ft $dname 10
n827=  set %blacklist.totalnicks 0
n828=  if ( %blacklist.nicks != $null ) {   
n829=    set %blacklist.currentnick $count(%blacklist.nicks,$chr(44)) + 1
n830=    :next
n831=    inc %blacklist.totalnicks
n832=    did -a blacklist 100 $gettok(%blacklist.nicks,%blacklist.totalnicks,44)
n833=    if ( %blacklist.totalnicks == %blacklist.currentnick ) {
n834=      /halt 
n835=    }
n836=    goto next
n837=  }
n838=}
n839=
n840=on *:dialog:blacklist:close:*: {
n841=  /unset %blacklist.totalnicks  
n842=  /unset %blacklist.currentnick 
n843=  /unset %blacklist.selnick 
n844=}
n845=
n846=alias white.add {
n847=  if $istokcs(%whitelist.nicks,$1,44) { echo %skins.prefix Ник $1 уже занесён в белый список | halt }
n848=  /set %whitelist.addto $1
n849=  if $dialog(whitelist) = $null { dialog -m whitelist whitelist }
n850=  /did -i whitelist 100 1 %whitelist.addto
n851=  /set %whitelist.nicks $didtok(whitelist,100,44)
n852=  if $dialog(whitelist) { dialog -x whitelist }
n853=  /echo %skins.prefix Ник $1 занесён в белый список
n854=  /unset %whitelist.addto
n855=}
n856=
n857=alias black.add {
n858=  if $istokcs(%blacklist.nicks,$1,44) { echo %skins.prefix Ник $1 уже занесён в чёрный список | halt }
n859=  /set %blacklist.addto $1
n860=  if $dialog(blacklist) = $null { dialog -m blacklist blacklist }
n861=  /did -i blacklist 100 1 %blacklist.addto
n862=  /set %blacklist.nicks $didtok(blacklist,100,44)
n863=  if $dialog(blacklist) { dialog -x blacklist }
n864=  /echo %skins.prefix Ник $1 занесён в черный список
n865=  /unset %blacklist.addto
n866=}
n867=
n868=
n869=;###################################################################################################################
n870=;#########################################  ANTIVIRUS  #############################################################
n871=;###################################################################################################################
n872=
n873=alias antivirus {
n874=  if $dialog(antivirus) = $null { dialog -m antivirus antivirus }
n875=  else halt
n876=}
n877=
n878=dialog antivirus {
n879=  icon icons\antivirus.ico
n880=  title "Антивирус"
n881=  size -1 -1 310 330
n882=  box "Найденые вирусы", 987, 5 3 300 287
n883=  list 100, 10 20 290 280
n884=  button "Сканировать на вирусы", 200, 5 295 300 30
n885=}
n886=
n887=on *:dialog:antivirus:sclick:200: {
n888=  /did -r antivirus 100 
n889=  if ($exists(script.ini) == $true) { /did -i antivirus 100 1 Найден вирус: Script.ini | halt }
n890=  if ($exists($findfile($root $+ ,dmsetup.exe,1)) == $true)  { /did -i antivirus 100 1 Найден вирус: DmSetup.exe | halt }
n891=  if ($exists(c:\windows\system\windll.dll) == $true) { /did -i antivirus 100 1 Найден вирус: Back Orifice | halt }
n892=  if ($exists($findfile($root $+ ,mircpaint.exe,1)) == $true)  { /did -i antivirus 100 1 Найден вирус: MircPaint | halt }
n893=  if ($exists($findfile($root $+ ,buny69.exe,1)) == $true)  { /did -i antivirus 100 1 Найден вирус: Buny69 | halt }
n894=  if ($exists(c:\windows\system32\pcfull.exe) == $true)  { /did -i antivirus 100 1 Найден вирус: PCFull | halt } 
n895=  /did -i antivirus 100 1 Вирусов не найдено
n896=}
n897=on *:dialog:antivirus:init:*: {
n898=  /tip 100 Найденые Мирц вирусы на вашем компьютере.
n899=  /tip 200 Начать сканирование.
n900=  ;did -ft $dname 200
n901=}
n902=
n903=;###################################################################################################################
n904=;#########################################  FKEYS  #################################################################
n905=;###################################################################################################################
n906=
n907=alias fkeys {
n908=  if $dialog(fkeys) = $null { dialog -m fkeys fkeys }
n909=  else halt
n910=}
n911=
n912=dialog fkeys {
n913=  icon icons\fkeys.ico
n914=  title "Функциональные клавиши"
n915=  size -1 -1 663 281
n916=
n917=  text "F1", 921, 5 8 25 20, right
n918=  text "F2", 922, 5 28 25 20, right
n919=  text "F3", 923, 5 48 25 20, right
n920=  text "F4", 924, 5 68 25 20, right
n921=  text "F5", 925, 5 88 25 20, right
n922=  text "F6", 926, 5 108 25 20, right
n923=  text "F7", 927, 5 128 25 20, right
n924=  text "F8", 928, 5 148 25 20, right
n925=  text "F9", 929, 5 168 25 20, right
n926=  text "F10", 931, 5 188 25 20, right
n927=  text "F11", 932, 5 208 25 20, right
n928=  text "F12", 933, 5 228 25 20, right
n929=
n930=  edit %button.f1, 1, 35 5 160 20, autohs
n931=  edit %button.f2, 2, 35 25 160 20, autohs
n932=  edit %button.f3, 3, 35 45 160 20, autohs
n933=  edit %button.f4, 4, 35 65 160 20, autohs
n934=  edit %button.f5, 5, 35 85 160 20, autohs
n935=  edit %button.f6, 6, 35 105 160 20, autohs
n936=  edit %button.f7, 7, 35 125 160 20, autohs
n937=  edit %button.f8, 8, 35 145 160 20, autohs
n938=  edit %button.f9, 9, 35 165 160 20, autohs
n939=  edit %button.f10, 10, 35 185 160 20, autohs
n940=  edit %button.f11, 11, 35 205 160 20, autohs
n941=  edit %button.f12, 12, 35 225 160 20, autohs
n942=
n943=  text "Shift + F1", 421, 205 8 55 20, right
n944=  text "Shift + F2", 422, 205 28 55 20, right
n945=  text "Shift + F3", 423, 205 48 55 20, right
n946=  text "Shift + F4", 424, 205 68 55 20, right
n947=  text "Shift + F5", 425, 205 88 55 20, right
n948=  text "Shift + F6", 426, 205 108 55 20, right
n949=  text "Shift + F7", 427, 205 128 55 20, right
n950=  text "Shift + F8", 428, 205 148 55 20, right
n951=  text "Shift + F9", 429, 205 168 55 20, right
n952=  text "Shift + F10",431, 205 188 55 20, right
n953=  text "Shift + F11",432, 205 208 55 20, right
n954=  text "Shift + F12", 433, 205 228 55 20, right
n955=
n956=  edit %button.sf1, 21, 267 5 160 20, autohs
n957=  edit %button.sf2, 22, 267 25 160 20, autohs
n958=  edit %button.sf3, 23, 267 45 160 20, autohs
n959=  edit %button.sf4, 24, 267 65 160 20, autohs
n960=  edit %button.sf5, 25, 267 85 160 20, autohs
n961=  edit %button.sf6, 26, 267 105 160 20, autohs
n962=  edit %button.sf7, 27, 267 125 160 20, autohs
n963=  edit %button.sf8, 28, 267 145 160 20, autohs
n964=  edit %button.sf9, 29, 267 165 160 20, autohs
n965=  edit %button.sf10, 210, 267 185 160 20, autohs
n966=  edit %button.sf11, 211, 267 205 160 20, autohs
n967=  edit %button.sf12, 212, 267 225 160 20, autohs
n968=
n969=  text "  Ctrl + F1", 521, 430 8 55 20, right
n970=  text "  Ctrl + F2", 522, 430 28 55 20, right
n971=  text "  Ctrl + F3", 523, 430 48 55 20, right
n972=  text "  Ctrl + F4", 524, 430 68 55 20, right
n973=  text "  Ctrl + F5", 525, 430 88 55 20, right
n974=  text "  Ctrl + F6", 526, 430 108 55 20, right
n975=  text "  Ctrl + F7", 527, 430 128 55 20, right
n976=  text "  Ctrl + F8", 528, 430 148 55 20, right
n977=  text "  Ctrl + F9", 529, 430 168 55 20, right
n978=  text "  Ctrl + F10",531, 430 188 55 20, right
n979=  text "  Ctrl + F11",532, 430 208 55 20, right
n980=  text "  Ctrl + F12", 533, 430 228 55 20, right
n981=
n982=  edit %button.cf1, 31, 497 5 160 20, autohs
n983=  edit %button.cf2, 32, 497 25 160 20, autohs
n984=  edit %button.cf3, 33, 497 45 160 20, autohs
n985=  edit %button.cf4, 34, 497 65 160 20, autohs
n986=  edit %button.cf5, 35, 497 85 160 20, autohs
n987=  edit %button.cf6, 36, 497 105 160 20, autohs
n988=  edit %button.cf7, 37, 497 125 160 20, autohs
n989=  edit %button.cf8, 38, 497 145 160 20, autohs
n990=  edit %button.cf9, 39, 497 165 160 20, autohs
n991=  edit %button.cf10, 310, 497 185 160 20, autohs
n992=  edit %button.cf11, 311, 497 205 160 20, autohs
n993=  edit %button.cf12, 312, 497 225 160 20, autohs
n994=  button "Хорошо", 100, 90 250 220 26
n995=  button "Команды", 200, 320 250 220 26
n996=}
n997=
n998=on *:dialog:fkeys:init:*: {
n999=  /tip 100 Сохранение настроек и выход.
n1000=}
n1001=
n1002=on *:dialog:fkeys:sclick:200: {
n1003=  /cmds
n1004=}
n1005=
n1006=on *:dialog:fkeys:sclick:100: {
n1007=  /set %button.f1 $did(1).text
n1008=  /set %button.f2 $did(2).text
n1009=  /set %button.f3 $did(3).text
n1010=  /set %button.f4 $did(4).text
n1011=  /set %button.f5 $did(5).text
n1012=  /set %button.f6 $did(6).text
n1013=  /set %button.f7 $did(7).text
n1014=  /set %button.f8 $did(8).text
n1015=  /set %button.f9 $did(9).text
n1016=  /set %button.f10 $did(10).text
n1017=  /set %button.f11 $did(11).text
n1018=  /set %button.f12 $did(12).text
n1019=  /set %button.sf1 $did(21).text
n1020=  /set %button.sf2 $did(22).text
n1021=  /set %button.sf3 $did(23).text
n1022=  /set %button.sf4 $did(24).text
n1023=  /set %button.sf5 $did(25).text
n1024=  /set %button.sf6 $did(26).text
n1025=  /set %button.sf7 $did(27).text
n1026=  /set %button.sf8 $did(28).text
n1027=  /set %button.sf9 $did(29).text
n1028=  /set %button.sf10 $did(210).text
n1029=  /set %button.sf11 $did(211).text
n1030=  /set %button.sf12 $did(212).text
n1031=  /set %button.cf1 $did(31).text
n1032=  /set %button.cf2 $did(32).text
n1033=  /set %button.cf3 $did(33).text
n1034=  /set %button.cf4 $did(34).text
n1035=  /set %button.cf5 $did(35).text
n1036=  /set %button.cf6 $did(36).text
n1037=  /set %button.cf7 $did(37).text
n1038=  /set %button.cf8 $did(38).text
n1039=  /set %button.cf9 $did(39).text
n1040=  /set %button.cf10 $did(310).text
n1041=  /set %button.cf11 $did(311).text
n1042=  /set %button.cf12 $did(312).text
n1043=  /dialog -x fkeys
n1044=}
n1045=
n1046=;###################################################################################################################
n1047=;#########################################  BROWSER  ###############################################################
n1048=;###################################################################################################################
n1049=
n1050=alias browser {
n1051=  if !$dialog(browser) { dialog -m browser browser }
n1052=}
n1053=
n1054=dialog browser {
n1055=  title "Интернет браузер"
n1056=  size -1 -1 %browser.width %browser.height
n1057=  icon icons\browser.ico
n1058=  list 1, 5 8 770 13, size
n1059=  text "Адрес:", 3, 9 71 45 13
n1060=  combo 4, 55 67 600 196, drop edit size
n1061=  list 5, 660 58 52 60 
n1062=  box "browser", 7, 1 98 713 351
n1063=  list 8, 1 450 715 18, size
n1064=  button "", 6, 0 0 0 0, hide
n1065=  button "", 111, 0 0 0 0, default
n1066=}
n1067=
n1068=on *:dialog:browser:sclick:111: {
n1069=  if !$did(4) { did -ri browser 8 2 Введите адрес сайта }
n1070=  else {
n1071=    if !$istok(%browser.urls,$did(4),300) { 
n1072=      browseit $did(4).text | did -ri browser 8 2 Готово
n1073=      did -a $dname 4 $did(4).text 
n1074=      %browser.urls = $didtok(browser,4,300) 
n1075=    } 
n1076=    else { browseit $did(4).text | did -ri browser 8 2 Готово } 
n1077=  }
n1078=}
n1079=
n1080=on *:dialog:browser:sclick:6: {
n1081=  dll libraries\mdx.dll MoveControl $dname 8 0 $calc($dialog($dname).ch - 20) $dialog($dname).cw *
n1082=  dll libraries\mdx.dll MoveControl $dname 5 $calc($dialog($dname).cw - 55) * * *
n1083=  dll libraries\mdx.dll MoveControl $dname 4 * * $calc($dialog($dname).cw - 115) *
n1084=  dll libraries\mdx.dll MoveControl $dname 7 * * $calc($dialog($dname).cw - 3) $calc($dialog($dname).ch - 120)
n1085=  /set %browser.width $dialog(browser).cw
n1086=  /set %browser.height $dialog(browser).ch
n1087=}
n1088=
n1089=on *:dialog:browser:init:*: {
n1090=  /tip 4 Введите адрес сайта, на который хотите зайти.
n1091=  dll libraries\mdx.dll MarkDialog browser
n1092=  dll libraries\mdx.dll SetControlMDX browser 1 toolbar flat wrap nodivider > libraries\bars.mdx
n1093=  dll libraries\mdx.dll SetControlMDX browser 5 toolbar flat wrap nodivider > libraries\bars.mdx
n1094=  dll libraries\mdx.dll SetControlMDX browser 8 statusbar sizeGrip > libraries\bars.mdx
n1095=  dll libraries\mdx.dll SetBorderStyle 1,5,8
n1096=  dll libraries\mdx.dll SetControlMDX $dname 6 positioner size > libraries\dialogs.mdx
n1097=  dialog -r $dname $dname
n1098=  did -i $dname 1 1 bmpsize 16 16
n1099=  did -i $dname 5 1 bmpsize 16 16
n1100=  did -i $dname 1 1 setimage +nh icon large icons\back.ico
n1101=  did -i $dname 1 1 setimage +nh icon large icons\foward.ico
n1102=  did -i $dname 1 1 setimage +nh icon large icons\stop.ico
n1103=  did -i $dname 1 1 setimage +nh icon large icons\refresh.ico
n1104=  did -i $dname 1 1 setimage +nh icon large icons\clear.ico
n1105=  did -i $dname 1 1 setimage +nh icon large icons\favorites.ico
n1106=  did -i $dname 1 1 setimage +nh icon large icons\printer.ico
n1107=  did -i $dname 5 1 setimage +nh icon small icons\go.ico
n1108=  did -a $dname 1 1 Назад $+ $chr(9) $+ Назад.
n1109=  did -a $dname 1 -
n1110=  did -a $dname 1 2 Вперёд $+ $chr(9) $+ Вперёд.
n1111=  did -a $dname 1 -
n1112=  did -a $dname 1 3 Стоп $+ $chr(9) $+ Прекратить загрузку сайта.
n1113=  did -a $dname 1 -
n1114=  did -a $dname 1 4 Обновить $+ $chr(9) $+ Обновить станицу.
n1115=  did -a $dname 1 -
n1116=  did -a $dname 1 5 Очистить $+ $chr(9) $+ Очистить историю посещаемых сайтов.
n1117=  did -a $dname 1 -
n1118=  did -a $dname 1 6 Избранное $+ $chr(9) $+ Настроить список часто посещаемых сайтов.
n1119=  did -a $dname 1 -
n1120=  did -a $dname 1 7 Печать $+ $chr(9) $+ Распечатать текущий документ на принтере.
n1121=  did -a $dname 5 1 Переход $+ $chr(9) $+ Переход на введённый адрес сайта.
n1122=  did -i $dname 8 2 setparts 710 -1
n1123=  did -i $dname 8 2 Готово
n1124=  didtok $dname 4 300 %browser.urls
n1125=  did -i $dname 8 2 Готово
n1126=  /did -h $dname 7
n1127=  /browseit %browser.homepage
n1128=}
n1129=
n1130=
n1131=
n1132=on *:dialog:browser:sclick:1: {
n1133=  if ($did(1).sel == 2) { 
n1134=    set %browser.window $dll(libraries\nhtmln.dll,find,browser) 
n1135=    dll libraries\nhtmln.dll attach %browser.window
n1136=    dll libraries\nhtmln.dll back 0
n1137=    /did -v browser 7
n1138=  }
n1139=
n1140=  if ($did(1).sel == 4) { 
n1141=    set %browser.window $dll(libraries\nhtmln.dll,find,browser) 
n1142=    dll libraries\nhtmln.dll attach %browser.window
n1143=    dll libraries\nhtmln.dll forward 0
n1144=    /did -v browser 7
n1145=  }
n1146=
n1147=  if ($did(1).sel == 6) { 
n1148=    set %browser.window $dll(libraries\nhtmln.dll,find,browser) 
n1149=    dll libraries\nhtmln.dll attach %browser.window
n1150=    dll libraries\nhtmln.dll stop 0
n1151=    /did -v browser 7
n1152=  }
n1153=
n1154=  if ($did(1).sel == 8) { 
n1155=    set %browser.window $dll(libraries\nhtmln.dll,find,browser) 
n1156=    dll libraries\nhtmln.dll attach %browser.window
n1157=    dll libraries\nhtmln.dll refresh 0
n1158=    /did -v browser 7
n1159=  }
n1160=
n1161=  if ($did(1).sel == 10) { 
n1162=    set %browser.urls http://frp.eclub.lv
n1163=    did -r browser 4
n1164=    didtok browser 4 300 %browser.urls
n1165=  }
n1166=
n1167=  if ($did(1).sel == 12) { 
n1168=    if !$dialog(favorites) { dialog -m favorites favorites }
n1169=  }
n1170=
n1171=  if ($did(1).sel == 14) { 
n1172=    dll libraries\nhtmln.dll print
n1173=  }
n1174=}
n1175=
n1176=on *:dialog:browser:sclick:4: {
n1177=  if $did(4).seltext != $null { browseit $did(4).seltext }
n1178=}
n1179=
n1180=on *:dialog:browser:sclick:5: {
n1181=  if !$did(4) { did -ri browser 8 2 Введите адрес сайта }
n1182=  else {
n1183=    if !$istok(%browser.urls,$did(4),300) { 
n1184=      browseit $did(4).text | did -ri browser 8 2 Готово
n1185=      did -a $dname 4 $did(4).text 
n1186=      %browser.urls = $didtok(browser,4,300) 
n1187=    } 
n1188=    else { browseit $did(4).text | did -ri browser 8 2 Готово } 
n1189=  }
n1190=}
n1191=
n1192=alias browseit { 
n1193=  did -ri browser 8 2 Открытие сайта $1 $+ ...
n1194=  set %browser.window $dll(libraries\nhtmln.dll,find,browser) 
n1195=  dll libraries\nhtmln.dll attach %browser.window
n1196=  dll libraries\nhtmln.dll navigate $1
n1197=  /did -v browser 7
n1198=  /did -ri browser 8 2 Готово
n1199=}
n1200=
n1201=dialog favorites {
n1202=  icon icons\favorites.ico
n1203=  title "Избранное"
n1204=  size -1 -1 230 220
n1205=  text "Домашняя:",365, 7 9 60 20
n1206=  edit %browser.homepage, 1 , 75 5 150 20, autohs
n1207=  list 100, 5 30 150 200
n1208=  button "Добавить",10,160 30 65 30
n1209=  button "Удалить", 20,160 65 65 30
n1210=}
n1211=
n1212=on *:dialog:favorites:sclick:100: {
n1213=  /set %browser.sel $did(100).seltext 
n1214=}
n1215=
n1216=on *:dialog:favorites:dclick:100: {
n1217=  browseit $did(100).seltext
n1218=  dialog -x favorites
n1219=}
n1220=
n1221=
n1222=on *:dialog:favorites:sclick:10: {
n1223=  /did -i favorites 100 1 $$?="Введите сайт:"
n1224=  /set %browser.favorites $didtok(favorites,100,44)
n1225=}
n1226=
n1227=on *:dialog:favorites:sclick:20: {
n1228=  if ($did(100).seltext = $null) { halt }
n1229=  /set %browser.favorites $didtok(favorites,100,44)
n1230=  if (%browser.sel != $null) && (%browser.favorites != $null) { /did -d favorites 100 $findtok(%browser.favorites,%browser.sel,1,44) }
n1231=  /set %browser.favorites $didtok(favorites,100,44)
n1232=}
n1233=
n1234=on *:dialog:favorites:init:*: {
n1235=  /didtok $dname 100 44 %browser.favorites
n1236=}
n1237=
n1238=on *:dialog:favorites:close:*: {
n1239=  if $did(1).text != $null { set %browser.homepage $did(1).text }
n1240=}
n1241=
n1242=;###################################################################################################################
n1243=;#########################################  SEARCHFIND  ############################################################
n1244=;###################################################################################################################
n1245=
n1246=alias searchfind {
n1247=  if !$dialog(searchfind) { dialog -m searchfind searchfind }
n1248=}
n1249=
n1250=dialog searchfind {
n1251=  title "Поисковая машина"
n1252=  size -1 -1 302 275
n1253=  icon icons\search.ico
n1254=  box "Что вы хотите найти:", 123, 5 5 290 46
n1255=  edit %searchfind.string, 1, 15 22 270 20 
n1256=  box "На каком узле искать информацию:", 124, 5 55 290 185
n1257=  radio "www.yahoo.com", 10, 20 73 270 20 
n1258=  radio "www.rambler.ru", 20, 20 93 270 20 
n1259=  radio "www.search.com", 30, 20 113 270 20 
n1260=  radio "www.download.com", 40, 20 133 270 20 
n1261=  radio "www.softsearch.com", 50, 20 153 270 20 
n1262=  radio "www.google.com", 60, 20 173 270 20 
n1263=  radio "www.google.ru", 70, 20 193 270 20 
n1264=  radio "www.google.lv", 80, 20 213 270 20 
n1265=  button "Искать", 100, 5 245 290 26
n1266=}
n1267=
n1268=on *:dialog:searchfind:init:*: {
n1269=  if %searchfind.web == yahoo { did -c searchfind 10 }
n1270=  if %searchfind.web == rambler { did -c searchfind 20 }
n1271=  if %searchfind.web == searchcom { did -c searchfind 30 }
n1272=  if %searchfind.web == downloadcom { did -c searchfind 40 }
n1273=  if %searchfind.web == softsearch { did -c searchfind 50 }
n1274=  if %searchfind.web == googlecom { did -c searchfind 60 }
n1275=  if %searchfind.web == googleru { did -c searchfind 70 }
n1276=  if %searchfind.web == googlelv { did -c searchfind 80 }
n1277=}
n1278=
n1279=on *:dialog:searchfind:sclick:100: {
n1280=  if $did(10).state == 1 { /set %searchfind.web yahoo }
n1281=  if $did(20).state == 1 { /set %searchfind.web rambler }
n1282=  if $did(30).state == 1 { /set %searchfind.web searchcom }
n1283=  if $did(40).state == 1 { /set %searchfind.web downloadcom }
n1284=  if $did(50).state == 1 { /set %searchfind.web softsearch }
n1285=  if $did(60).state == 1 { /set %searchfind.web googlecom }
n1286=  if $did(70).state == 1 { /set %searchfind.web googleru }
n1287=  if $did(80).state == 1 { /set %searchfind.web googlelv }
n1288=  /set %searchfind.string $did(1).text
n1289=  var %searchfind.temp $replace(%searchfind.string,$chr(32),+)
n1290=  if %searchfind.web == yahoo { /url -an http://search.yahoo.com/search?p= $+ %searchfind.temp $+ &ei=UTF-8&fr=FP-tab-web-t&cop=mss&tab= }
n1291=  if %searchfind.web == rambler { /url -an http://search.rambler.ru/srch?words= $+ %searchfind.temp $+ &where=1 }
n1292=  if %searchfind.web == searchcom { /url -an http://www.search.com/search?q= $+ %searchfind.temp }
n1293=  if %searchfind.web == downloadcom { /url -an http://www.download.com/3120-20-0.html?qt= $+ %searchfind.temp $+ &tg=dl-2001 }
n1294=  if %searchfind.web == softsearch { /url -an http://www.softsearch.ru/pcgi/search.cgi?text= $+ %searchfind.temp $+ &w=2 }
n1295=  if %searchfind.web == googlecom { /url -an http://www.google.com/search?hl=en&ie=UTF-8&q= $+ %searchfind.temp $+ &meta=  }
n1296=  if %searchfind.web == googleru { /url -an http://www.google.ru/search?hl=ru&ie=UTF-8&q= $+ %searchfind.temp $+ &btnG=%D0%9F%D0%BE%D0%B8%D1%81%D0%BA+%D0%B2+Google&lr= }
n1297=  if %searchfind.web == googlelv { /url -an http://www.google.lv/search?hl=lv&ie=UTF-8&q= $+ %searchfind.temp $+ &meta= }
n1298=}
n1299=
n1300=;###################################################################################################################
n1301=;#########################################  WINAMP CONTROLLER  #####################################################
n1302=;###################################################################################################################
n1303=
n1304=alias ampsaysong { 
n1305=  if ($chr(36) $+ WA_NOTRUNNING !isin $ampget(STATE)) { dll libraries\wa_link.dll WA_Link_Command START | goto ok }
n1306=  /halt
n1307=  :ok
n1308=  set %winamp.channelmodec $dll(libraries\nlinkn.dll,channel,0) 
n1309=  set %winamp.channelmode Моно
n1310=  if %winamp.channelmodec == 1 { /set %winamp.ChannelMode Моно | goto next }
n1311=  if %winamp.channelmodec == 2 { /set %winamp.ChannelMode Стерео | goto next }
n1312=  if %winamp.channelmodec == 3 { /set %winamp.ChannelMode Дуал Моно | goto next }
n1313=  if %winamp.channelmodec == 4 { /set %winamp.ChannelMode Дуал Стерео | goto next }
n1314=  set %winamp.channelmode Стерео 
n1315=  :next
n1316=  var %intmin $int($calc($ampget(POSSEC)/60))
n1317=  var %intsec $int($calc($calc($ampget(POSSEC)) - (%intmin * 60)))
n1318=  if %intmin < 10 { set %intmin 0 $+ %intmin }
n1319=  if %intsec < 10 { set %intsec 0 $+ %intsec }
n1320=  set %winamp.current %intmin $+ : $+ %intsec
n1321=  set %winamp.title $ampgettitle 
n1322=  set %winamp.genre $iif($ampget(GENRE),$ampget(GENRE),Другой стиль)  
n1323=  set %winamp.year $iif($ampget(YEAR),$ampget(YEAR),$asctime(yyyy))  
n1324=  set %winamp.file $iif($ampget(TRACKFILENAME),$ampget(TRACKFILENAME),unknown - untitled.mp3)  
n1325=  set %winamp.album $iif($ampget(ALBUM),$ampget(ALBUM),Best Hits)
n1326=  var %intmin $int($calc($ampget(TRACKSEC)/60))
n1327=  var %intsec $int($calc($calc($ampget(TRACKSEC)) - (%intmin * 60)))
n1328=  if %intmin < 10 { set %intmin 0 $+ %intmin }
n1329=  if %intsec < 10 { set %intsec 0 $+ %intsec }
n1330=  set %winamp.length %intmin $+ : $+ %intsec
n1331=  set %winamp.bitrate $iif($ampget(BITRATE),$ampget(BITRATE),41)
n1332=  set %winamp.samplerate $iif($ampget(SAMPLERATE),$ampget(SAMPLERATE),360)   
n1333=  if ($chr(45) isin %winamp.Length) { %winamp.Length = 00:00 } 
n1334=  if ($1- == -e) { /echo %skins.prefix $me $winampreplaced | halt }
n1335=  if ($status == disconnected) { /notconnected | /halt }
n1336=  if (%winamp.msgtype == me) { /me $winampreplaced  }
n1337=  if (%winamp.msgtype == say) { /say $winampreplaced  }
n1338=  if (%winamp.msgtype == ame) { /ame $winampreplaced  }
n1339=  if (%winamp.msgtype == amsg) { /amsg $winampreplaced  }
n1340=} 
n1341=
n1342=alias winampreplaced {
n1343=  return $replace(%winamp.saysong.format,<NAZV>,%winamp.title,<RAZM>,%winamp.length,<GOD>,%winamp.year,<ZHANR>,%winamp.genre,<FAIL>,$nopath(%winamp.file),<ALBOM>,%winamp.album,<SEJC>,%winamp.current,<BITR>,%winamp.bitrate,<GERC>,%winamp.samplerate,<KANAL>,%winamp.channelmode)
n1344=}
n1345=
n1346=alias winampcontrol {
n1347=  if $dialog(winampcontrol) = $null { dialog -m winampcontrol winampcontrol }
n1348=}
n1349=
n1350=dialog winampcontrol {
n1351=  icon icons/winamp.ico
n1352=  title "Контроллер музыкального плеера"
n1353=  size -1 -1 430 270
n1354=  edit "Плеер не включен", 1, 5 5 420 20, center
n1355=  button "Назад", 10 , 5 30 80 26
n1356=  button "Стоп", 20 , 90 30 80 26
n1357=  button "Играть", 30 , 175 30 80 26
n1358=  button "Пауза",40 , 260 30 80 26
n1359=  button "Дальше", 50 , 345 30 80 26
n1360=  box "Опции контроллера", 276, 5 60 420 110
n1361=  check "Автоматически включать Плеер при загрузке NeOn Script", 100 , 15 80 350 20
n1362=  check "Автоматически воспроизводить песню при включении Плеера", 200 , 15 100 350 20
n1363=  check "Отображать результаты поиска", 300 , 15 120 350 20
n1364=  check "Сообщать в окна название трека при смене песни", 400 , 15 140 350 20
n1365=  box "Формат сообщения названия песни" ,651, 5 175 420 90
n1366=  radio "/say", 601, 20 190 40 20, group
n1367=  radio "/me", 602, 90 190 40 20
n1368=  radio "/amsg", 603, 160 190 60 20
n1369=  radio "/ame", 604, 230 190 40 20
n1370=  edit %winamp.saysong.format ,500, 15 210 330 20, autohs
n1371=  button "Теги...", 501, 350 210 65 20
n1372=  button "",999, 15 235 400 22
n1373=}
n1374=
n1375=on *:dialog:winampcontrol:init:*: {
n1376=  /did -m winampcontrol 1 1
n1377=  /tip 100 Винамп сразу включится при загрузке скрипта.
n1378=  /tip 200 Воспроизводить песню при включении Винампа.
n1379=  /tip 300 При поиске в активном окне будут отображаться результаты поиска.
n1380=  /tip 400 Отображать название песни при переключении.
n1381=  /tip 601 При сообщении песни на канал или в приват будет использоваться обыкновенное сообщение.
n1382=  /tip 602 При сообщении песни на канал или в приват будет использоваться действие.
n1383=  /tip 603 При сообщении песни на канал или в приват будет использоваться обыкновенное сообщение во всех окнах.
n1384=  /tip 604 При сообщении песни на канал или в приват будет использоваться действие во всех окнах.
n1385=  /tip 500 Формат сообщения названия песни.
n1386=  /tip 501 Помощь по тегам.
n1387=  /did -ra winampcontrol 1 $ampgettitle
n1388=  dll libraries\mdx.dll MarkDialog winampcontrol
n1389=  if %winamp.startup = on { did -c winampcontrol 100 }  
n1390=  if %winamp.startup.play = on { did -c winampcontrol 200 }  
n1391=  if %winamp.onfind.show = on { did -c winampcontrol 300 }  
n1392=  if %winamp.onchange.show = on { did -c winampcontrol 400 }  
n1393=  if %winamp.msgtype = say { did -c winampcontrol 601 } 
n1394=  if %winamp.msgtype = me { did -c winampcontrol 602 } 
n1395=  if %winamp.msgtype = amsg { did -c winampcontrol 603 } 
n1396=  if %winamp.msgtype = ame { did -c winampcontrol 604 } 
n1397=  dll libraries\mdx.dll SetControlMDX winampcontrol 999 window > libraries\dialogs.mdx  
n1398=  dll libraries\mdx.dll SetFont winampcontrol 500 0 verdana 
n1399=  dll libraries\mdx.dll SetColor winampcontrol 500 text $rgb(50,50,50) 
n1400=  window -h @wp
n1401=  did -a winampcontrol 999 grab $window(@wp).hwnd @wp
n1402=  clear @wp
n1403=  aline @wp $me $replace($did(500).text,4Я калбасюсь под 9||| 2,11,2\12,2\1\12\2,12\\0 <NAZV> 2//12,2/1,2/12/1/ 9||| 4NeOn Script,$ampgettitle,<RAZM>,%winamp.Length,<GOD>,%winamp.year,<ZHANR>,%winamp.genre,<FAIL>,$nopath(%winamp.file),<ALBOM>,%winamp.album,<SEJC>,%winamp.Current,<BITR>,%winamp.BitRate,<GERC>,%winamp.SampleRate,<KANAL>,%winamp.ChannelMode)
n1404=}
n1405=
n1406=on *:dialog:winampcontrol:sclick:10: {
n1407=  /ampprev
n1408=  /did -ra winampcontrol 1 $ampgettitle
n1409=}
n1410=
n1411=on *:dialog:winampcontrol:edit:500: {
n1412=  clear @wp
n1413=  aline @wp $me $replace($did(500).text,4Я калбасюсь под 9||| 2,11,2\12,2\1\12\2,12\\0 <NAZV> 2//12,2/1,2/12/1/ 9||| 4NeOn Script,$ampgettitle,<RAZM>,%winamp.Length,<GOD>,%winamp.year,<ZHANR>,%winamp.genre,<FAIL>,$nopath(%winamp.file),<ALBOM>,%winamp.album,<SEJC>,%winamp.Current,<BITR>,%winamp.BitRate,<GERC>,%winamp.SampleRate,<KANAL>,%winamp.ChannelMode)
n1414=}
n1415=
n1416=on *:dialog:winampcontrol:sclick:20: {
n1417=  $ampset(STOP)
n1418=}
n1419=
n1420=on *:dialog:winampcontrol:sclick:30: {
n1421=  $ampset(PLAY)
n1422=}
n1423=
n1424=on *:dialog:winampcontrol:sclick:40: {
n1425=  $ampset(PAUSE)
n1426=}
n1427=
n1428=on *:dialog:winampcontrol:sclick:50: {
n1429=  /ampnext
n1430=  /did -ra winampcontrol 1 $ampgettitle
n1431=}
n1432=
n1433=on *:dialog:winampcontrol:sclick:501: { if !$dialog(winamptaghelp) { dialog -m winamptaghelp winamptaghelp } }
n1434=on *:dialog:winampcontrol:sclick:601: { /set %winamp.msgtype say }
n1435=on *:dialog:winampcontrol:sclick:602: { /set %winamp.msgtype me }
n1436=on *:dialog:winampcontrol:sclick:603: { /set %winamp.msgtype amsg }
n1437=on *:dialog:winampcontrol:sclick:604: { /set %winamp.msgtype ame }
n1438=on *:dialog:winampcontrol:sclick:100: { if ($did(winampcontrol,100).state = 1) { /set %winamp.startup on } | else { /set %winamp.startup off } }
n1439=on *:dialog:winampcontrol:sclick:200: { if ($did(winampcontrol,200).state = 1) { /set %winamp.startup.play on } | else { /set %winamp.startup.play off } }
n1440=on *:dialog:winampcontrol:sclick:300: { if ($did(winampcontrol,300).state = 1) { /set %winamp.onfind.show on } | else { /set %winamp.onfind.show off } }
n1441=on *:dialog:winampcontrol:sclick:400: { if ($did(winampcontrol,400).state = 1) { /set %winamp.onchange.show on } | else { /set %winamp.onchange.show off } }
n1442=on *:dialog:winampcontrol:sclick:602: { if !$dialog(winamptaghelp) { dialog -m winamptaghelp winamptaghelp } }
n1443=
n1444=dialog winamptaghelp {
n1445=  icon %iconfilename
n1446=  title "Помощь по тегам"
n1447=  size -1 -1 220 205
n1448=  text "<NAZV>", 1, 5 5 60 20
n1449=  text "<RAZM>", 2, 5 25 60 20
n1450=  text "<GERC>", 3, 5 45 60 20
n1451=  text "<BITR>", 4, 5 65 60 20
n1452=  text "<KANAL>", 9, 5 85 60 20
n1453=  text "<SEJC>", 20, 5 105 60 20
n1454=  text "<ZHANR>", 23, 5 125 60 20
n1455=  text "<GOD>", 24, 5 145 60 20
n1456=  text "<FAIL>", 25, 5 165 60 20
n1457=  text "<ALBOM>", 26, 5 185 60 20
n1458=  text "- Название песни", 5, 65 5 160 20
n1459=  text "- Длина песни", 6, 65 25 160 20
n1460=  text "- Частота в кГерцах", 7, 65 45 160 20
n1461=  text "- Качество звука в битах", 8, 65 65 160 20
n1462=  text "- Каналы песни", 10, 65 85 160 20
n1463=  text "- Текущая позиция", 21, 65 105 160 20
n1464=  text "- Жанр", 27, 65 125 160 20
n1465=  text "- Год исполнения", 28, 65 145 160 20
n1466=  text "- Имя файла", 29, 65 165 160 20
n1467=  text "- Название альбома", 30, 65 185 160 20
n1468=}
n1469=on *:dialog:winampcontrol:close:*: {
n1470=  /set %winamp.saysong.format $did(500)
n1471=  if ($chr(36) $+ WA_NOTRUNNING !isin $ampget(STATE)) {
n1472=    /echo %skins.prefix Формат сообщения песни:
n1473=    /ampsaysong -e
n1474=  }
n1475=}
n1476=
n1477=alias winampplaystartup {
n1478=  if ($chr(36) $+ WA_NOTRUNNING !isin $ampget(STATE)) { 
n1479=    /dll libraries\wa_link.dll WA_Link_Command START
n1480=    if (%winamp.startup.play == on) { $ampset(PLAY) | $ampset(HIDE) }
n1481=  }
n1482=}
n1483=
n1484=alias ampprev {
n1485=  $ampset(START)
n1486=  if ($chr(36) $+ WA_NOTRUNNING !isin $ampget(STATE)) {
n1487=    $ampset(PREV)
n1488=    $ampset(PLAY)
n1489=    if %winamp.onchange.show == on {
n1490=      /echo %skins.prefix Играет песня: $ampgettitle
n1491=    }
n1492=  } 
n1493=}
n1494=
n1495=alias ampplaypause {
n1496=  $ampset(START)
n1497=  if ($chr(36) $+ WA_NOTRUNNING !isin $ampget(STATE)) {
n1498=    if ($ampget(STATE) == $chr(36) $+ WA_PLAYING) { $ampset(PAUSE) | halt }
n1499=    if ($ampget(STATE) == $chr(36) $+ WA_PAUSED) { $ampset(PLAY) | halt }
n1500=    if ($ampget(STATE) == $chr(36) $+ WA_STOPPED) { $ampset(PLAY) | halt }
n1501=  }
n1502=}
n1503=
n1504=alias ampnext {
n1505=  $ampset(START)
n1506=  if ($chr(36) $+ WA_NOTRUNNING !isin $ampget(STATE)) {
n1507=    $ampset(NEXT)
n1508=    $ampset(PLAY)
n1509=    if %winamp.onchange.show == on {
n1510=      /echo %skins.prefix Играет песня: $ampgettitle
n1511=    } 
n1512=  } 
n1513=}
n1514=
n1515=alias ampopen { 
n1516=  if ($chr(36) $+ WA_NOTRUNNING !isin $ampget(STATE)) { 
n1517=    $ampset(HIDE) $ampset(RESTORE) $ampset(OPEN) 
n1518=    if %maximize = on { /showmirc -sp }
n1519=    if %maximize.mirc = on { /showmirc -xsp }
n1520=  } 
n1521=}
n1522=
n1523=alias -1 {
n1524=
n1525=}
n1526=
n1527=alias -2 {
n1528=
n1529=}
n1530=
n1531=alias ampget {
n1532=  return $dll(libraries\wa_link.dll,WA_Link_Raw_Stats,$1-)
n1533=}
n1534=
n1535=alias ampstop { 
n1536=  if ($ampget(STATE) != $chr(36) $+ WA_STOPPED) { $ampset(STOP) | halt } | else /stop 
n1537=}
n1538=
n1539=alias ampplay { 
n1540=  $ampset(START) | if ($chr(36) $+ WA_NOTRUNNING !isin $ampget(STATE)) { /dll libraries\wa_link.dll WA_Link_Command PLAY } 
n1541=}
n1542=
n1543=
n1544=alias ampset {
n1545=  return $dll(libraries\wa_link.dll,WA_Link_Command,$1-)
n1546=}
n1547=
n1548=alias ampseekb {
n1549=  if ($chr(36) $+ WA_NOTRUNNING !isin $ampget(STATE)) {
n1550=    $ampset(REW5)
n1551=  }
n1552=}
n1553=
n1554=alias ampseekf { 
n1555=  if ($chr(36) $+ WA_NOTRUNNING !isin $ampget(STATE)) {
n1556=    $ampset(FFW5)
n1557=  }
n1558=}
n1559=
n1560=alias ampfind {
n1561=  if ($chr(36) $+ WA_NOTRUNNING !isin $ampget(STATE)) {
n1562=    if $1- == $null { /set %winamp.findstring $?="Введите отрывок из название песни, которую хотите найти:" | goto 2 }
n1563=    /set %winamp.findstring $1-
n1564=    :2
n1565=    if $ampset(FIND %winamp.findstring) == -2 { if %winamp.onfind.show == on { echo %skins.prefix Песня " $+ %winamp.findstring $+ " не найдена. } | halt }
n1566=    $ampset(JUMP $ampset(FIND %winamp.findstring))
n1567=    if %winamp.onfind.show == on { echo %skins.prefix Песня " $+ %winamp.findstring $+ " найдена: $ampgettitle }
n1568=  }
n1569=}
n1570=
n1571=alias ampopen {
n1572=  if ($chr(36) $+ WA_NOTRUNNING !isin $ampget(STATE)) {
n1573=    /showmirc -m
n1574=    $ampset(HIDE) $ampset(RESTORE) $ampset(OPEN)
n1575=    /showmirc -xsp
n1576=  }
n1577=}
n1578=
n1579=alias ampgettitle {
n1580=  if $ampget(STATE) == $chr(36) $+ WA_NOTRUNNING { return Винамп не включен | /halt }  
n1581=  if $ampget(STATE) != $chr(36) $+ WA_PLAYING { return Тишина | /halt }  
n1582=  return $dll(libraries\winamptomirc.dll,GetTitle,_)
n1583=}
n1584=
n1585=alias ampgettime {
n1586=  var %intmin $int($calc($ampget(TRACKSEC)/60))
n1587=  var %intsec $int($calc($calc($ampget(TRACKSEC)) - (%intmin * 60)))
n1588=  if %intmin < 10 { set %intmin 0 $+ %intmin }
n1589=  if %intsec < 10 { set %intsec 0 $+ %intsec }
n1590=  var %rettime %intmin $+ : $+ %intsec
n1591=  if (*-* iswm %rettime) { var %rettime 00:00 }
n1592=  return %rettime
n1593=}
n1594=
n1595=
n1596=;###################################################################################################################
n1597=;#########################################  NICK GENERATOR  ########################################################
n1598=;###################################################################################################################
n1599=
n1600=alias nickgen {
n1601=  if $dialog(nickgen) = $null { dialog -m nickgen nickgen }
n1602=  else halt
n1603=}
n1604=
n1605=dialog nickgen {
n1606=  icon icons\nickgen.ico
n1607=  title "Генератор ников"
n1608=  size -1 -1 300 85
n1609=  box "Ваш ник:", 275, 5 5 290 45
n1610=  edit "", 10, 15 20 270 20, center
n1611=  button "Генерировать", 100, 5 55 142 26
n1612=  button "Выбрать", 200, 153 55 142 26
n1613=}
n1614=
n1615=on *:dialog:nickgen:init:*: {
n1616=  dll libraries\mdx.dll MarkDialog nickgen
n1617=  dll libraries\mdx.dll SetFont nickgen 10 10 0 fixedsys
n1618=  did -ra nickgen 10 $me
n1619=}
n1620=
n1621=on *:dialog:nickgen:sclick:100: {
n1622=  var %type $rand(0,7)
n1623=
n1624=  if %type == 0 {
n1625=    set %randnick $rand(a,z) $+ $rand(a,z) $+ $rand(0,9) $+ $rand(A,Z) $+ $rand(0,9) $+ $rand(a,z) 
n1626=    did -ra nickgen 10 %randnick
n1627=    halt
n1628=  }
n1629=
n1630=  if %type == 1 {
n1631=    set %randnick $rand(a,z) $+ $rand(A,Z) $+ $rand(0,9) $+ $rand(0,9)  
n1632=    did -ra nickgen 10 %randnick
n1633=    halt
n1634=  }
n1635=
n1636=  if %type == 3 {
n1637=    set %randnick $rand(A,Z) $+ $rand(a,z) $+ $rand(a,z) $+ $rand(a,z) $+ $rand(A,Z)
n1638=    did -ra nickgen 10 %randnick
n1639=    halt
n1640=  }
n1641=
n1642=  if %type == 5 {
n1643=    set %randnick $rand(A,Z) $+ $rand(0,9) 
n1644=    did -ra nickgen 10 %randnick
n1645=    halt
n1646=  }
n1647=
n1648=  if %type == 4 {
n1649=    set %randnick $rand(a,z) $+ $rand(a,z) $+ $rand(a,z) $+ $rand(a,z) $+ $rand(a,z) $+ $rand(a,z)
n1650=    did -ra nickgen 10 %randnick
n1651=    halt
n1652=  }
n1653=
n1654=  if %type == 2 {
n1655=    set %randnick $rand(a,z) $+ $rand(0,9) $+ $rand(a,z) $+ $rand(a,z)
n1656=    did -ra nickgen 10 %randnick
n1657=    halt
n1658=  }
n1659=
n1660=  if %type == 6 {
n1661=    set %randnick $rand(A,Z) $+ $rand(A,Z) $+ $rand(A,Z) $+ $rand(A,Z) $+ $rand(A,Z) $+ $rand(A,Z) $+ $rand(A,Z) $+ $rand(A,Z) $+ $rand(A,Z)
n1662=    did -ra nickgen 10 %randnick
n1663=    halt
n1664=  }
n1665=
n1666=  if %type == 7 {
n1667=    set %randnick $rand(A,Z) $+ $rand(a,z) $+ $rand(a,z) $+ $rand(a,z) $+ $rand(a,z) $+ $rand(a,z) $+ $rand(a,z)
n1668=    did -ra nickgen 10 %randnick
n1669=    halt
n1670=  }
n1671=}
n1672=
n1673=on *:dialog:nickgen:sclick:200: {
n1674=  nick $did(10)
n1675=}
n1676=
n1677=;###################################################################################################################
n1678=;#########################################  CHARLIST  ##############################################################
n1679=;###################################################################################################################
n1680=
n1681=alias charlist { 
n1682=  if (!$dialog(charlist)) { dialog -m charlist charlist }
n1683=}
n1684=
n1685=dialog charlist {
n1686=  title "Таблица символов"
n1687=  size -1 -1 280 363
n1688=  icon icons/charlist.ico
n1689=  list 3, 5 5 270 360
n1690=}
n1691=
n1692=on *:dialog:charlist:init:*: {
n1693=  dll libraries/mdx.dll MarkDialog charlist
n1694=  dll libraries/mdx.dll SetControlMDX 3 ListView headerdrag report rowselect showsel grid nosortheader single > libraries/views.mdx
n1695=  dll libraries\mdx.dll SetFont charlist 3 10 0 fixedsys  
n1696=  did -i $dname 3 1 headerdims 90:1 155:3
n1697=  did -i $dname 3 1 headertext Код $chr(9) $+ Символ $+ 
n1698=  var %charz.a = 32
n1699=  while (%charz.a < 256) { did -a charlist 3 $chr(36) $+ chr( $+ %charz.a $+ ) $chr(9) $chr(%charz.a) | inc %charz.a }
n1700=}
n1701=
n1702=;###################################################################################################################
n1703=;#########################################  VOLUME  ################################################################
n1704=;###################################################################################################################
n1705=
n1706=alias volume {
n1707=  if (!$dialog(mp3volume)) { dialog -ma volume volume }
n1708=}
n1709=dialog volume {
n1710=  title "Громкость"
n1711=  size -1 -1 202 170
n1712=  icon icons\volume.ico
n1713=
n1714=  text "Главный", 1, 5 5 65 20, center
n1715=  text "Волны",   3, 70 5 65 20, center
n1716=  text "Миди",    5, 135 5 65 20, center
n1717=  list            2, 23 25 30 135, size
n1718=  list            6, 88 25 30 135, size
n1719=  list            4, 155 25 30 135, size
n1720=}
n1721=
n1722=on *:dialog:volume:init:*: {
n1723=  dll libraries/mdx.dll MarkDialog volume
n1724=  dll libraries/mdx.dll SetControlMDX $dname 2,4,6 trackbar vertical noticks > libraries/bars.mdx
n1725=  dll libraries/mdx.dll SetBorderStyle $dname 2,4,6
n1726=  did -i $dname 2 1 params $calc(65535 - $vol(master)) 0 65535
n1727=  did -i $dname 4 1 params $calc(65535 - $vol(midi)) 0 65535
n1728=  did -i $dname 6 1 params $calc(65535 - $vol(wave)) 0 65535
n1729=}
n1730=
n1731=on *:dialog:volume:sclick:*: {
n1732=  if ($did == 2) { vol -v $calc(65535 - $gettok($did(volume,2,1).text,1,32)) }
n1733=  if ($did == 4) { vol -m $calc(65535 - $gettok($did(volume,4,1).text,1,32)) }
n1734=  if ($did == 6) { vol -w $calc(65535 - $gettok($did(volume,6,1).text,1,32)) }
n1735=}
n1736=
n1737=;###################################################################################################################
n1738=;#########################################  HELP  ##################################################################
n1739=;###################################################################################################################
n1740=
n1741=alias helpcentre {
n1742=  if !$dialog(helpbrowser) { dialog -m helpbrowser helpbrowser }
n1743=}
n1744=
n1745=dialog helpbrowser {
n1746=  title "Центр справки и поддержки"
n1747=  size -1 -1 600 400
n1748=  icon icons\help.ico
n1749=  box "-", 7, 0 0 600 400
n1750=}
n1751=
n1752=on *:dialog:helpbrowser:init:*: {
n1753=  /did -h helpbrowser 7
n1754=  dll libraries\mdx.dll MarkDialog helpbrowser
n1755=  var %helpbrowser.index = $mircdir $+ help\index.htm
n1756=  if  !$exists(%helpbrowser.index) { halt }
n1757=  set %helpbrowser.window $dll(libraries\nhtmln.dll,find,-) 
n1758=  dll libraries\nhtmln.dll attach %helpbrowser.window
n1759=  dll libraries\nhtmln.dll navigate %helpbrowser.index
n1760=  /did -v helpbrowser 7
n1761=}
n1762=
n1763=;###################################################################################################################
n1764=;#########################################  MEMOS  #################################################################
n1765=;###################################################################################################################
n1766=
n1767=alias memos {
n1768=  if $dialog(memos) = $null { dialog -m memos memos }
n1769=  else halt
n1770=}
n1771=
n1772=dialog memos {
n1773=  icon icons\memos.ico
n1774=  title "Доставка Мемо"
n1775=  size -1 -1 300 177
n1776=  box "Введите ник:", 275, 5 5 290 45
n1777=  edit %memos.nick, 10, 15 20 270 20
n1778=  box "Сообщение:", 276, 5 50 290 65
n1779=  edit %memos.message, 20, 15 65 270 40, multi limit 150 autohs autovs
n1780=  button "Отправить", 100, 5 120 290 26
n1781=  button "Выход", 200, 5 148 290 26, cancel
n1782=} 
n1783=
n1784=on *:dialog:memos:init:*: {
n1785=  /tip 10 Введите ник, которому нужно послать Мемо.
n1786=  /tip 20 Введите сообщение.
n1787=  /tip 100 Отправить сообщение.
n1788=  /tip 200 Выход.
n1789=}
n1790=
n1791=on *:dialog:memos:sclick:100: {
n1792=  /set %memos.nick $did(10) 
n1793=  /set %memos.message $did(20)
n1794=  if ($status != disconnected) {
n1795=    %memoserv send $did(10) $did(20)
n1796=  } | else { notconnected }
n1797=}
n1798=
n1799=
n1800=;###################################################################################################################
n1801=;#########################################  CTABLE  #######################################################
n1802=;###################################################################################################################
n1803=
n1804=alias colortb {
n1805=  if $dialog(colortb) = $null { dialog -m colortb colortb }
n1806=  else halt
n1807=}
n1808=
n1809=dialog colortb {
n1810=  title "Колорайзер"
n1811=  icon icons\colors.ico
n1812=  size -1 -1 200 80
n1813=  option dbu
n1814=  button "Ok", 1, 54 235 37 12, ok 
n1815=  edit "", 2, 10 15 150 12, autohs
n1816=  box "Текст:", 3, 3 5 195 25
n1817=  box "", 4, 24 30 155 15
n1818=  box "Цвет текста", 5, 24 46 50 30
n1819=  box "Фон", 6, 129 46 50 30
n1820=  button "Послать", 7, 163 15 30 12
n1821=  combo 8, 25 57 47 50, drop
n1822=  combo 9, 130 57 47 50, drop
n1823=  check "Жирный", 10, 28 34 50 10
n1824=  check "Подчёркнут", 11, 80 34 50 10
n1825=  check "Контраст", 12, 136 34 40 10 
n1826=  button "Тест", 13, 85 52 30 20
n1827=}
n1828=on 1:dialog:colortb:sclick:13: { if ($did(colortb,2) == $null) { did -f colortb 2 } | else { echo 4 -a Tест1: %bold $+ %under $+ %reverse $+  $+ %text.c $+ , $+ %text.b $+ $did(colortb,2) } }
n1829=on 1:dialog:colortb:sclick:7: { if ($did(colortb,2) == $null) { did -f colortb 2 } | else { msg $active %bold $+ %under $+ %reverse $+  $+ %text.c $+ , $+ %text.b $+ $did(colortb,2) } }
n1830=on 1:dialog:colortb:sclick:10: { if (%bold == $null) { %bold =  } | else unset %bold }  
n1831=on 1:dialog:colortb:sclick:11: { if (%under == $null) { %under =  } | else unset %under }
n1832=on 1:dialog:colortb:sclick:12: { 
n1833=  if (%reverse != $null) { did -e colortb 8,9 } | else did -b colortb 8,9 
n1834=  if (%reverse == $null) { %reverse =  } | else unset %reverse 
n1835=}
n1836=on 1:dialog:colortb:init:0: {
n1837=  did -i colortb 8,9 1 (0) Белый
n1838=  did -i colortb 8,9 2 (1) Чёрный | did -i colortb 8,9 3 (2) Голубой | did -i colortb 8,9 4 (3) Зелёный
n1839=  did -i colortb 8,9 5 (4) Красный | did -i colortb 8,9 6 (5) Коричневый | did -i colortb 8,9 7 (6) Пурпурный
n1840=  did -i colortb 8,9 8 (7) Оранжевый | did -i colortb 8,9 9 (8) Жёлтый | did -i colortb 8,9 10 (9) Светло-зелёный
n1841=  did -i colortb 8,9 11 (10) Олив | did -i colortb 8,9 12 (11) Cветлый Олив | did -i colortb 8,9 13 (12) Голубой
n1842=  did -i colortb 8,9 14 (13) Фиолетовый | did -i colortb 8,9 15 (14) Серый | did -i colortb 8,9 16 (15) Светло-серый
n1843=  did -c colortb 8 2 | did -c colortb 9 1 
n1844=  did -f colortb 2
n1845=  unset %bold %under %reverse
n1846=  %text.c = 1 | %text.b = 0
n1847=}
n1848=on 1:dialog:colortb:sclick:8: {
n1849=  if ($did(8).sel == 1) { %text.c = 0 } | if ($did(8).sel == 2) { %text.c = 1 } | if ($did(8).sel == 3) { %text.c = 2 }
n1850=  if ($did(8).sel == 4) { %text.c = 3 } | if ($did(8).sel == 5) { %text.c = 4 } | if ($did(8).sel == 6) { %text.c = 5 }
n1851=  if ($did(8).sel == 7) { %text.c = 6 } | if ($did(8).sel == 8) { %text.c = 7 } | if ($did(8).sel == 9) { %text.c = 8 }
n1852=  if ($did(8).sel == 10) { %text.c = 9 } | if ($did(8).sel == 11) { %text.c = 10 } | if ($did(8).sel == 12) { %text.c = 11 }
n1853=  if ($did(8).sel == 13) { %text.c = 12 } | if ($did(8).sel == 14) { %text.c = 13 } | if ($did(8).sel == 15) { %text.c = 14 }
n1854=  if ($did(8).sel == 16) { %text.c = 15 }
n1855=}
n1856=on 1:dialog:colortb:sclick:9: {
n1857=  if ($did(9).sel == 1) { %text.b = 0 } | if ($did(9).sel == 2) { %text.b = 1 } | if ($did(9).sel == 3) { %text.b = 2 }
n1858=  if ($did(9).sel == 4) { %text.b = 3 } | if ($did(9).sel == 5) { %text.b = 4 } | if ($did(9).sel == 6) { %text.b = 5 }
n1859=  if ($did(9).sel == 7) { %text.b = 6 } | if ($did(9).sel == 8) { %text.b = 7 } | if ($did(9).sel == 9) { %text.b = 8 }
n1860=  if ($did(9).sel == 10) { %text.b = 9 } | if ($did(9).sel == 11) { %text.b = 10 } | if ($did(9).sel == 12) { %text.b = 11 }
n1861=  if ($did(9).sel == 13) { %text.b = 12 } | if ($did(9).sel == 14) { %text.b = 13 } | if ($did(9).sel == 15) { %text.b = 14 }
n1862=  if ($did(9).sel == 16) { %text.b = 15 }
n1863=}
n1864=
n1865=;###################################################################################################################
n1866=;#########################################  IRC Helper  #################################################################
n1867=;###################################################################################################################
n1868=
n1869=alias irc1 {
n1870=  if $dialog(irc1) = $null { dialog -m irc1 irc1 }
n1871=  else halt
n1872=}
n1873=
n1874=dialog irc1 {
n1875=  icon icons\help.ico
n1876=  title "Помощь по IRC"
n1877=  size -1 -1 150 639
n1878=  option pixels
n1879=  button "Как зарегить ник", 1, 5 10 139 23
n1880=  button "Как прописать аоп", 2, 5 35 139 23
n1881=  button "Как прописать хоп", 3, 5 60 139 23
n1882=  button "Как прописать войс", 4, 5 85 139 23
n1883=  button "Как убрать аоп", 5, 5 110 139 23
n1884=  button "Как убрать хоп", 6, 5 135 139 23
n1885=  button "Как убрать войс", 7, 5 160 139 23
n1886=  button "Как поставить акик", 8, 5 185 139 23
n1887=  button "Как просмотреть акики", 9, 5 210 139 23
n1888=  button "Как убрать акик", 10, 5 235 139 23
n1889=  button "Как заблокировать топик", 11, 5 260 139 23
n1890=  button "Как дропнуть канал", 12, 5 285 139 23
n1891=  button "Как дропнуть ник", 13, 5 310 139 23
n1892=  button "Владелец канала", 14, 5 335 139 23
n1893=  button "Как слинковать ники ", 15, 5 360 139 23
n1894=  button "Наследник канала ", 16, 5 385 139 23
n1895=  button "Как дать хоп ", 17, 5 410 139 23
n1896=  button "Как дать оп", 18, 5 435 139 23
n1897=  button "Как дать войс", 19, 5 460 139 23
n1898=  button "Убрать все моды", 20, 5 485 139 23
n1899=  button "Как сменить описание", 21, 5 510 139 23
n1900=  button "Как разбаниться", 22, 5 535 139 23
n1901=  button "Как дать себе оп", 23, 5 560 139 23
n1902=  button "Как дать себе хоп", 24, 5 585 139 23
n1903=  button "Как дать себе войс", 25, 5 610 139 23
n1904=}
n1905=
n1906=on *:dialog:irc1:sclick:*:{
n1907=  if ($did == 1) { editbox -a %nickserv register пароль e-mail }
n1908=  if ($did == 2) { editbox -a %chanserv aop #канал add ник }
n1909=  if ($did == 3) { editbox -a %chanserv hop #канал add ник }
n1910=  if ($did == 4) { editbox -a %chanserv vop #канал add ник }
n1911=  if ($did == 5) { editbox -a %chanserv aop #канал del ник }
n1912=  if ($did == 6) { editbox -a %chanserv hop #канал del ник }
n1913=  if ($did == 7) { editbox -a %chanserv vop #канал del ник }
n1914=  if ($did == 8) { editbox -a %chanserv akick #канал add маска }
n1915=  if ($did == 9) { editbox -a %chanserv akick #канал list }
n1916=  if ($did == 10) { editbox -a %chanserv akick #канал del маска/номер }
n1917=  if ($did == 11) { editbox -a %chanserv set #канал topiclock on }
n1918=  if ($did == 12) { editbox -a %chanserv drop #канал }
n1919=  if ($did == 13) { editbox -a %nickserv drop ник }
n1920=  if ($did == 14) { editbox -a %chanserv set #канал founder ник }
n1921=  if ($did == 15) { editbox -a %nickserv group мастер-ник пароль-от-мастер-ника }
n1922=  if ($did == 16) { editbox -a %chanserv set #канал successor ник }
n1923=  if ($did == 17) { editbox -a /mode #канал +h ник }
n1924=  if ($did == 18) { editbox -a /mode #канал +o ник }
n1925=  if ($did == 19) { editbox -a /mode #канал +v ник }
n1926=  if ($did == 20) { editbox -a %chanserv clear #канал modes }
n1927=  if ($did == 21) { editbox -a %chanserv set #канал desc описание }
n1928=  if ($did == 22) { editbox -a %chanserv unban #канал }
n1929=  if ($did == 23) { editbox -a %chanserv op #канал }
n1930=  if ($did == 24) { editbox -a %chanserv halfop #канал }
n1931=  if ($did == 25) { editbox -a %chanserv vop #канал }
n1932=}
n1933=
n1934=;###################################################################################################################
n1935=;########################################  АвтоОтветчик  #################################################################
n1936=;###################################################################################################################
n1937=
n1938=alias avtootvetchik {
n1939=  if $dialog(avtootvetchik) = $null { dialog -m avtootvetchik avtootvetchik }
n1940=  else halt
n1941=}
n1942=
n1943=dialog avtootvetchik {
n1944=  title "Автоответчик"
n1945=  size -1 -1 126 94
n1946=  option dbu
n1947=  icon icons/avtootvet.ico, 0
n1948=  edit %text.avtootvet, 3, 5 45 117 11, autohs
n1949=  button "ОК", 4, 45 79 37 12, ok
n1950=  box "Сообщение автоответчика", 5, 3 36 121 22
n1951=  icon 6, 0 0 125 30,  icons/avtootvet.jpg, 0
n1952=  text "Если вы хотите выключить автоответчик, оставте верхнее поле пустым.", 1, 5 63 117 14
n1953=}
n1954=
n1955=on *:dialog:avtootvetchik:sclick:*: {
n1956=  /set %text.avtootvet $did(3) 
n1957=}
n1958=
n1959=;##################################################
n1960=;################### Подсчет времени ####################
n1961=;##################################################
n1962=
n1963=alias calctime { dialog -m calctime calctime | cl.add }
n1964=dialog calctime {
n1965=  title "Подсчет времени"
n1966=  icon icons/calc.ico
n1967=  size -1 -1 388 183
n1968=  option pixels
n1969=  box " До даты: ", 1, 5 5 375 52,
n1970=  combo 2, 15 25 105 164,  drop size
n1971=  combo 3, 130 25 75 164,  drop size
n1972=  combo 4, 215 25 55 164,  drop size
n1973=  edit "00", 5, 280 25 25 20,
n1974=  edit "00", 6, 312 25 25 20,
n1975=  edit "00", 7, 345 25 25 20,
n1976=  text ":", 8, 307 27 5 14,
n1977=  text ":", 9, 340 27 5 14,
n1978=  box "Статус:", 10, 5 60 375 90,
n1979=  edit "", 11, 15 80 355 60,  read multi autovs vsbar
n1980=  button "П О Д С Ч Е Т А Т Ь", 12, 5 155 375 22,
n1981=}
n1982=alias r.inf1 { return $did(calctime,2).text }
n1983=alias r.inf2 { return $did(calctime,3).text }
n1984=alias r.inf3 { return $did(calctime,4).text }
n1985=alias t.a { return $did(calctime,5).text }
n1986=alias t.b { return $did(calctime,6).text }
n1987=alias t.c { return $did(calctime,7).text }
n1988=alias repcl return $replace($$1,wks, нед.,wk, нед.,days, дн.,day, дн.,hrs, ч.,hr, ч.,mins, мин.,min, мин.,secs, сек.,sec, сек.)
n1989=alias cl.add {
n1990=  %i = 1
n1991=  while (%i <= 31) { didtok calctime 3 C %i | inc %i }
n1992=  %i = 2007
n1993=  while (%i <= 2020) { didtok calctime 4 C %i | inc %i }
n1994=  didtok calctime 2 C Январь
n1995=  didtok calctime 2 C Февраль
n1996=  didtok calctime 2 C Март
n1997=  didtok calctime 2 C Апрель
n1998=  didtok calctime 2 C Май
n1999=  didtok calctime 2 C Июнь
n2000=  didtok calctime 2 C Июль
n2001=  didtok calctime 2 C Август
n2002=  didtok calctime 2 C Сентябрь
n2003=  didtok calctime 2 C Октябрь
n2004=  didtok calctime 2 C Ноябрь
n2005=  didtok calctime 2 C Декабрь
n2006=  did -c calctime 2,3,4 1
n2007=}
n2008=on *:DIALOG:calctime:sclick:12:{
n2009=  if ($r.inf1 == Январь) { %cl.year = 1 }
n2010=  if ($r.inf1 == Февраль) { %cl.year = 2 }
n2011=  if ($r.inf1 == Март) { %cl.year = 3 }
n2012=  if ($r.inf1 == Апрель) { %cl.year = 4 }
n2013=  if ($r.inf1 == Май) { %cl.year = 5 }
n2014=  if ($r.inf1 == Июнь) { %cl.year = 6 }
n2015=  if ($r.inf1 == Июль) { %cl.year = 7 }
n2016=  if ($r.inf1 == Август) { %cl.year = 8 }
n2017=  if ($r.inf1 == Сентябрь) { %cl.year = 9 }
n2018=  if ($r.inf1 == Октябрь) { %cl.year = 10 }
n2019=  if ($r.inf1 == Ноябрь) { %cl.year = 11 }
n2020=  if ($r.inf1 == Декабрь) { %cl.year = 12 }
n2021=  did -ri calctime 11 1 До $r.inf2 $r.inf1 $r.inf3 осталось:
n2022=  did -i calctime 11 2 $repcl($duration($calc($ctime($r.inf2 $+ / $+ %cl.year $+ / $+ $r.inf3 $t.a $+ : $+ $t.b $+ : $+ $t.c) - $ctime)))
n2023=}
n2024=
n2025=;#####################################
n2026=;############## NOTICE #################
n2027=;####################################
n2028=
n2029=alias cnotice { if !$dialog(cnotice) { dialog -m cnotice cnotice } } 
n2030=
n2031=dialog cnotice {
n2032=  title "Нотис закрытия привата"
n2033=  size -1 -1 118 44
n2034=  option dbu
n2035=  icon icons\notice.ico, 0
n2036=  radio "Включить", 1, 9 10 50 10, group
n2037=  radio "Выключить", 2, 68 10 50 10
n2038=  button "ОК", 3, 38 28 37 12, ok
n2039=}
n2040=
n2041=
n2042=on *:dialog:cnotice:init:*: {
n2043=  if %zpriv = on { did -c cnotice 1 } 
n2044=  if %zpriv = off { did -c cnotice 2 } 
n2045=}
n2046=
n2047=on *:dialog:cnotice:sclick:*: {
n2048=  if $did(1).state = 1 { /set %zpriv on }
n2049=  if $did(2).state = 1 { /set %zpriv off }
n2050=}
n2051=
n2052=;#################################################################
n2053=;################## Подсчёт слов и символов ##############################
n2054=;#################################################################
n2055=
n2056=on 1:input:*: { if ($left($1-,1) != /) { set %simvoli $calc(%simvoli + $len($1-)) | set %slova $calc(%slova + $0) } }
n2057=
n2058=
n2059=;#################################################################
n2060=;######################### АНКЕТА ##################################
n2061=;#################################################################
n2062=alias anketa {
n2063=  if $dialog(anketa) = $null { dialog -m anketa anketa }
n2064=  else halt
n2065=}
n2066=
n2067=dialog anketa {
n2068=  title "Анкета"
n2069=  size -1 -1 173 224
n2070=  option dbu
n2071=  box "Помощь", 1, 2 39 169 43
n2072=  icon 19, 0 0 173 37,  icons\anketa.gif, 0
n2073=  text "Эта анкета выводится, если какой-либо другой человек, хочет узнать вашу анкету, через запрос CTCP. Также вы можете вывести Вашу анкету на любой канал или приват с помощью этого окна. Человек узнает только те поля анкеты, которые заполнены.", 2, 4 47 166 33
n2074=  box "Имя", 4, 5 84 74 22
n2075=  edit %name, 5, 7 92 70 11, result center
n2076=  box "Возраст", 3, 5 109 74 22
n2077=  edit %let, 6, 7 117 70 11, result center
n2078=  box "Дата рождения", 7, 5 133 74 22
n2079=  edit %data, 8, 7 141 70 11, result center
n2080=  box "Обо мне", 9, 5 157 164 49
n2081=  edit %obo, 10, 8 165 158 38, multi autovs vsbar limit 239
n2082=  box "Место жительства", 11, 94 84 74 22
n2083=  edit %mesto, 12, 96 92 70 11, result center
n2084=  box "Телефон", 13, 94 109 74 22
n2085=  edit %site, 14, 96 141 70 11, result center
n2086=  box "Любимый веб-сайт", 15, 94 133 74 22
n2087=  edit %telefon, 16, 96 117 70 11, result center
n2088=  button "ОК", 17, 14 209 49 12, ok
n2089=  button "Сказать в чат", 18, 108 209 49 12
n2090=}
n2091=
n2092=on *:dialog:anketa:sclick:17: {
n2093=  /set %name $did(5) 
n2094=  /set %let $did(6) 
n2095=  /set %data $did(8) 
n2096=  /set %obo $did(10) 
n2097=  /set %mesto $did(12) 
n2098=  /set %site $did(14) 
n2099=  /set %telefon $did(16) 
n2100=  if (%name,%let,%data,%obo,%mesto,%site,%telefon == $null) { /set %anketa 0 } 
n2101=  if ($did(5),$did(6),$did(8),$did(10),$did(12),$did(14),$did(16) != $null) { /set %anketa 1 } 
n2102=}
n2103=
n2104=on *:dialog:anketa:sclick:18: {
n2105=  if $active != status window {
n2106=    /msg $active 12Меня зовут:10 %name
n2107=    /msg $active 12Мой возраст:10 %let
n2108=    /msg $active 12Я родился:10 %data
n2109=    /msg $active 12Живу я в:10 %mesto
n2110=    /msg $active 12Мой телефон:10 %telefon
n2111=    /msg $active 12Мой любимый веб-сайт:10 %site
n2112=    /msg $active 12Обо мне:10 %obo
n2113=  }
n2114=}
n2115=
n2116=;#########################################
n2117=;############# Проверка версии скрипта ############
n2118=;#########################################
n2119=
n2120=alias pversion {
n2121=  if ($sock(pversion)) .sockclose pversion
n2122=  set %chan $chan
n2123=  set %nick $nick
n2124=  sockopen pversion neon-ms.info 80
n2125=}
n2126=on *:SOCKOPEN:pversion: {
n2127=  sockwrite -nt $sockname GET /download.php HTTP/1.1
n2128=  sockwrite -nt $sockname Host: neon-ms.info
n2129=  sockwrite -nt $sockname $crlf
n2130=}
n2131=on *:SOCKREAD:pversion: {
n2132=  if ($sockerr) {
n2133=    halt
n2134=  }
n2135=  else {
n2136=    var %sockreader
n2137=    sockread %sockreader
n2138=    if (*<br>NeOn mIRC Script* iswm %sockreader ) {
n2139=      noop $regex(%sockreader,/NeOn mIRC Script(.*?)</b></font><br>/Si)
n2140=      var %tempvar $remove($regml(1),<br>,NeOn mIRC Script,</b></font><br>,</b></font>)
n2141=      echo %skins.prefixa 12Последняя версия NeOn mIRC Script:10 %tempvar
n2142=      unset %chan
n2143=      unset %nick
n2144=      sockclose pversion
n2145=    }
n2146=  }
n2147=}
n2148=
n2149=alias update {
n2150=  if ($sock(update)) .sockclose update
n2151=  set %chan $chan
n2152=  set %nick $nick
n2153=  sockopen update neon-ms.info 80
n2154=}
n2155=on *:SOCKOPEN:update: {
n2156=  sockwrite -nt $sockname GET /download.php HTTP/1.1
n2157=  sockwrite -nt $sockname Host: neon-ms.info
n2158=  sockwrite -nt $sockname $crlf
n2159=}
n2160=on *:SOCKREAD:update: {
n2161=  if ($sockerr) {
n2162=    halt
n2163=  }
n2164=  else {
n2165=    var %sockreader
n2166=    sockread %sockreader
n2167=    if (*<br>NeOn mIRC Script* iswm %sockreader ) {
n2168=      noop $regex(%sockreader,/NeOn mIRC Script(.*?)</b></font><br>/Si)
n2169=      var %tempvar $remove($regml(1),<br>NeOn mIRC Script,</b></font><br>)
n2170=      .write -c files/update.txt %tempvar
n2171=      if ($read(files/update.txt) > %script.version) {
n2172=        echo %skins.prefixa 12Имеется новая версия NeOn mIRC Script:4 $read(files/update.txt)
n2173=        echo %skins.prefixa 12Скачать можно на оф. сайте:10 http://neon-ms.info
n2174=      }
n2175=      unset %chan
n2176=      unset %nick
n2177=      sockclose update
n2178=    }
n2179=  }
n2180=}
